(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Zy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bc={exports:{}},bo={},$c={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function e_(){if(dp)return De;dp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.iterator;function O(k){return k===null||typeof k!="object"?null:(k=D&&k[D]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function $(k,B,ie){this.props=k,this.context=B,this.refs=J,this.updater=ie||b}$.prototype.isReactComponent={},$.prototype.setState=function(k,B){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,B,"setState")},$.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Se(){}Se.prototype=$.prototype;function Ee(k,B,ie){this.props=k,this.context=B,this.refs=J,this.updater=ie||b}var _e=Ee.prototype=new Se;_e.constructor=Ee,W(_e,$.prototype),_e.isPureReactComponent=!0;var Re=Array.isArray,He=Object.prototype.hasOwnProperty,Ce={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(k,B,ie){var de,ve={},Pe=null,ke=null;if(B!=null)for(de in B.ref!==void 0&&(ke=B.ref),B.key!==void 0&&(Pe=""+B.key),B)He.call(B,de)&&!V.hasOwnProperty(de)&&(ve[de]=B[de]);var xe=arguments.length-2;if(xe===1)ve.children=ie;else if(1<xe){for(var Le=Array(xe),ze=0;ze<xe;ze++)Le[ze]=arguments[ze+2];ve.children=Le}if(k&&k.defaultProps)for(de in xe=k.defaultProps,xe)ve[de]===void 0&&(ve[de]=xe[de]);return{$$typeof:i,type:k,key:Pe,ref:ke,props:ve,_owner:Ce.current}}function A(k,B){return{$$typeof:i,type:k.type,key:B,ref:k.ref,props:k.props,_owner:k._owner}}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function C(k){var B={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ie){return B[ie]})}var N=/\/+/g;function S(k,B){return typeof k=="object"&&k!==null&&k.key!=null?C(""+k.key):B.toString(36)}function le(k,B,ie,de,ve){var Pe=typeof k;(Pe==="undefined"||Pe==="boolean")&&(k=null);var ke=!1;if(k===null)ke=!0;else switch(Pe){case"string":case"number":ke=!0;break;case"object":switch(k.$$typeof){case i:case e:ke=!0}}if(ke)return ke=k,ve=ve(ke),k=de===""?"."+S(ke,0):de,Re(ve)?(ie="",k!=null&&(ie=k.replace(N,"$&/")+"/"),le(ve,B,ie,"",function(ze){return ze})):ve!=null&&(R(ve)&&(ve=A(ve,ie+(!ve.key||ke&&ke.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+k)),B.push(ve)),1;if(ke=0,de=de===""?".":de+":",Re(k))for(var xe=0;xe<k.length;xe++){Pe=k[xe];var Le=de+S(Pe,xe);ke+=le(Pe,B,ie,Le,ve)}else if(Le=O(k),typeof Le=="function")for(k=Le.call(k),xe=0;!(Pe=k.next()).done;)Pe=Pe.value,Le=de+S(Pe,xe++),ke+=le(Pe,B,ie,Le,ve);else if(Pe==="object")throw B=String(k),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ke}function re(k,B,ie){if(k==null)return k;var de=[],ve=0;return le(k,de,"","",function(Pe){return B.call(ie,Pe,ve++)}),de}function ee(k){if(k._status===-1){var B=k._result;B=B(),B.then(function(ie){(k._status===0||k._status===-1)&&(k._status=1,k._result=ie)},function(ie){(k._status===0||k._status===-1)&&(k._status=2,k._result=ie)}),k._status===-1&&(k._status=0,k._result=B)}if(k._status===1)return k._result.default;throw k._result}var ne={current:null},z={transition:null},X={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:z,ReactCurrentOwner:Ce};function Q(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:re,forEach:function(k,B,ie){re(k,function(){B.apply(this,arguments)},ie)},count:function(k){var B=0;return re(k,function(){B++}),B},toArray:function(k){return re(k,function(B){return B})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},De.Component=$,De.Fragment=n,De.Profiler=a,De.PureComponent=Ee,De.StrictMode=s,De.Suspense=y,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,De.act=Q,De.cloneElement=function(k,B,ie){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var de=W({},k.props),ve=k.key,Pe=k.ref,ke=k._owner;if(B!=null){if(B.ref!==void 0&&(Pe=B.ref,ke=Ce.current),B.key!==void 0&&(ve=""+B.key),k.type&&k.type.defaultProps)var xe=k.type.defaultProps;for(Le in B)He.call(B,Le)&&!V.hasOwnProperty(Le)&&(de[Le]=B[Le]===void 0&&xe!==void 0?xe[Le]:B[Le])}var Le=arguments.length-2;if(Le===1)de.children=ie;else if(1<Le){xe=Array(Le);for(var ze=0;ze<Le;ze++)xe[ze]=arguments[ze+2];de.children=xe}return{$$typeof:i,type:k.type,key:ve,ref:Pe,props:de,_owner:ke}},De.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},De.createElement=I,De.createFactory=function(k){var B=I.bind(null,k);return B.type=k,B},De.createRef=function(){return{current:null}},De.forwardRef=function(k){return{$$typeof:m,render:k}},De.isValidElement=R,De.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:ee}},De.memo=function(k,B){return{$$typeof:v,type:k,compare:B===void 0?null:B}},De.startTransition=function(k){var B=z.transition;z.transition={};try{k()}finally{z.transition=B}},De.unstable_act=Q,De.useCallback=function(k,B){return ne.current.useCallback(k,B)},De.useContext=function(k){return ne.current.useContext(k)},De.useDebugValue=function(){},De.useDeferredValue=function(k){return ne.current.useDeferredValue(k)},De.useEffect=function(k,B){return ne.current.useEffect(k,B)},De.useId=function(){return ne.current.useId()},De.useImperativeHandle=function(k,B,ie){return ne.current.useImperativeHandle(k,B,ie)},De.useInsertionEffect=function(k,B){return ne.current.useInsertionEffect(k,B)},De.useLayoutEffect=function(k,B){return ne.current.useLayoutEffect(k,B)},De.useMemo=function(k,B){return ne.current.useMemo(k,B)},De.useReducer=function(k,B,ie){return ne.current.useReducer(k,B,ie)},De.useRef=function(k){return ne.current.useRef(k)},De.useState=function(k){return ne.current.useState(k)},De.useSyncExternalStore=function(k,B,ie){return ne.current.useSyncExternalStore(k,B,ie)},De.useTransition=function(){return ne.current.useTransition()},De.version="18.3.1",De}var pp;function Ah(){return pp||(pp=1,$c.exports=e_()),$c.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function t_(){if(mp)return bo;mp=1;var i=Ah(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,v){var w,D={},O=null,b=null;v!==void 0&&(O=""+v),y.key!==void 0&&(O=""+y.key),y.ref!==void 0&&(b=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(D[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)D[w]===void 0&&(D[w]=y[w]);return{$$typeof:e,type:m,key:O,ref:b,props:D,_owner:a.current}}return bo.Fragment=n,bo.jsx=f,bo.jsxs=f,bo}var gp;function n_(){return gp||(gp=1,bc.exports=t_()),bc.exports}var ye=n_(),mr=Ah(),Sl={},qc={exports:{}},Gt={},Hc={exports:{}},Wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function r_(){return yp||(yp=1,function(i){function e(z,X){var Q=z.length;z.push(X);e:for(;0<Q;){var k=Q-1>>>1,B=z[k];if(0<a(B,X))z[k]=X,z[Q]=B,Q=k;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var X=z[0],Q=z.pop();if(Q!==X){z[0]=Q;e:for(var k=0,B=z.length,ie=B>>>1;k<ie;){var de=2*(k+1)-1,ve=z[de],Pe=de+1,ke=z[Pe];if(0>a(ve,Q))Pe<B&&0>a(ke,ve)?(z[k]=ke,z[Pe]=Q,k=Pe):(z[k]=ve,z[de]=Q,k=de);else if(Pe<B&&0>a(ke,Q))z[k]=ke,z[Pe]=Q,k=Pe;else break e}}return X}function a(z,X){var Q=z.sortIndex-X.sortIndex;return Q!==0?Q:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],v=[],w=1,D=null,O=3,b=!1,W=!1,J=!1,$=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(z){for(var X=n(v);X!==null;){if(X.callback===null)s(v);else if(X.startTime<=z)s(v),X.sortIndex=X.expirationTime,e(y,X);else break;X=n(v)}}function Re(z){if(J=!1,_e(z),!W)if(n(y)!==null)W=!0,ee(He);else{var X=n(v);X!==null&&ne(Re,X.startTime-z)}}function He(z,X){W=!1,J&&(J=!1,Se(I),I=-1),b=!0;var Q=O;try{for(_e(X),D=n(y);D!==null&&(!(D.expirationTime>X)||z&&!C());){var k=D.callback;if(typeof k=="function"){D.callback=null,O=D.priorityLevel;var B=k(D.expirationTime<=X);X=i.unstable_now(),typeof B=="function"?D.callback=B:D===n(y)&&s(y),_e(X)}else s(y);D=n(y)}if(D!==null)var ie=!0;else{var de=n(v);de!==null&&ne(Re,de.startTime-X),ie=!1}return ie}finally{D=null,O=Q,b=!1}}var Ce=!1,V=null,I=-1,A=5,R=-1;function C(){return!(i.unstable_now()-R<A)}function N(){if(V!==null){var z=i.unstable_now();R=z;var X=!0;try{X=V(!0,z)}finally{X?S():(Ce=!1,V=null)}}else Ce=!1}var S;if(typeof Ee=="function")S=function(){Ee(N)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,re=le.port2;le.port1.onmessage=N,S=function(){re.postMessage(null)}}else S=function(){$(N,0)};function ee(z){V=z,Ce||(Ce=!0,S())}function ne(z,X){I=$(function(){z(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){W||b||(W=!0,ee(He))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return O},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(z){switch(O){case 1:case 2:case 3:var X=3;break;default:X=O}var Q=O;O=X;try{return z()}finally{O=Q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=O;O=z;try{return X()}finally{O=Q}},i.unstable_scheduleCallback=function(z,X,Q){var k=i.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?k+Q:k):Q=k,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,z={id:w++,callback:X,priorityLevel:z,startTime:Q,expirationTime:B,sortIndex:-1},Q>k?(z.sortIndex=Q,e(v,z),n(y)===null&&z===n(v)&&(J?(Se(I),I=-1):J=!0,ne(Re,Q-k))):(z.sortIndex=B,e(y,z),W||b||(W=!0,ee(He))),z},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(z){var X=O;return function(){var Q=O;O=X;try{return z.apply(this,arguments)}finally{O=Q}}}}(Wc)),Wc}var _p;function i_(){return _p||(_p=1,Hc.exports=r_()),Hc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function s_(){if(vp)return Gt;vp=1;var i=Ah(),e=i_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},D={};function O(t){return y.call(D,t)?!0:y.call(w,t)?!1:v.test(t)?D[t]=!0:(w[t]=!0,!1)}function b(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W(t,r,o,u){if(r===null||typeof r>"u"||b(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new J(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];$[r]=new J(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new J(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new J(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new J(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new J(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new J(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new J(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new J(t,5,!1,t.toLowerCase(),null,!1,!1)});var Se=/[\-:]([a-z])/g;function Ee(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Se,Ee);$[r]=new J(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Se,Ee);$[r]=new J(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Se,Ee);$[r]=new J(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new J(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new J(t,1,!1,t.toLowerCase(),null,!0,!0)});function _e(t,r,o,u){var h=$.hasOwnProperty(r)?$[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(W(r,o,h,u)&&(o=null),u||h===null?O(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Re=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,He=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),z=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,k;function B(t){if(k===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||""}return`
`+k+t}var ie=!1;function de(t,r){if(!t||ie)return"";ie=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var u=U}Reflect.construct(t,[],r)}else{try{r.call()}catch(U){u=U}t.call(r.prototype)}else{try{throw Error()}catch(U){u=U}t()}}catch(U){if(U&&u&&typeof U.stack=="string"){for(var h=U.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,T=p.length-1;1<=_&&0<=T&&h[_]!==p[T];)T--;for(;1<=_&&0<=T;_--,T--)if(h[_]!==p[T]){if(_!==1||T!==1)do if(_--,T--,0>T||h[_]!==p[T]){var P=`
`+h[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?B(t):""}function ve(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function Pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ce:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case le:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case R:return(t._context.displayName||"Context")+".Provider";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case re:return r=t.displayName||null,r!==null?r:Pe(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return Pe(t(r))}catch{}}return null}function ke(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Le(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ze(t){var r=Le(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function yt(t){t._valueTracker||(t._valueTracker=ze(t))}function an(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Le(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Xt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ri(t,r){var o=r.checked;return Q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Fi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=xe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Qs(t,r){r=r.checked,r!=null&&_e(t,"checked",r,!1)}function Gs(t,r){Qs(t,r);var o=xe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ui(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ui(t,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ua(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ui(t,r,o){(r!=="number"||Xt(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Jn=Array.isArray;function Zn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+xe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ks(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Jn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:xe(o)}}function ji(t,r){var o=xe(r.value),u=xe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Ys(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var er,Xs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function vr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(t){si.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ii[r]=ii[t]})});function Js(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ii.hasOwnProperty(t)&&ii[t]?(""+r).trim():r+"px"}function Zs(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Js(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var eo=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(t,r){if(r){if(eo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function no(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Bi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,ln=null,On=null;function $i(t){if(t=Co(t)){if(typeof bi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=za(r),bi(t.stateNode,t.type,r))}}function Fn(t){ln?On?On.push(t):On=[t]:ln=t}function ro(){if(ln){var t=ln,r=On;if(On=ln=null,$i(t),r)for(t=0;t<r.length;t++)$i(r[t])}}function ai(t,r){return t(r)}function io(){}var tr=!1;function so(t,r,o){if(tr)return t(r,o);tr=!0;try{return ai(t,r,o)}finally{tr=!1,(ln!==null||On!==null)&&(io(),ro())}}function it(t,r){var o=t.stateNode;if(o===null)return null;var u=za(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var qi=!1;if(m)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){qi=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{qi=!1}function li(t,r,o,u,h,p,_,T,P){var U=Array.prototype.slice.call(arguments,3);try{r.apply(o,U)}catch(K){this.onError(K)}}var ui=!1,Hi=null,En=!1,oo=null,gu={onError:function(t){ui=!0,Hi=t}};function Wi(t,r,o,u,h,p,_,T,P){ui=!1,Hi=null,li.apply(gu,arguments)}function ca(t,r,o,u,h,p,_,T,P){if(Wi.apply(this,arguments),ui){if(ui){var U=Hi;ui=!1,Hi=null}else throw Error(n(198));En||(En=!0,oo=U)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ci(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tn(t){if(wn(t)!==t)throw Error(n(188))}function ha(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return Tn(h),t;if(p===u)return Tn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,T=h.child;T;){if(T===o){_=!0,o=h,u=p;break}if(T===u){_=!0,u=h,o=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===o){_=!0,o=p,u=h;break}if(T===u){_=!0,u=p,o=h;break}T=T.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ao(t){return t=ha(t),t!==null?Qi(t):null}function Qi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Qi(t);if(r!==null)return r;t=t.sibling}return null}var Gi=e.unstable_scheduleCallback,lo=e.unstable_cancelCallback,fa=e.unstable_shouldYield,yu=e.unstable_requestPaint,Qe=e.unstable_now,da=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,uo=e.unstable_LowPriority,pa=e.unstable_IdlePriority,fi=null,Jt=null;function ma(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:ya,co=Math.log,ga=Math.LN2;function ya(t){return t>>>=0,t===0?32:31-(co(t)/ga|0)|0}var Ki=64,Yi=4194304;function wr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var T=_&~h;T!==0?u=wr(T):(p&=_,p!==0&&(u=wr(p)))}else _=o&~h,_!==0?u=wr(_):p!==0&&(u=wr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ft(r),h=1<<o,u|=t[o],r&=~h;return u}function _u(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ft(p),T=1<<_,P=h[_];P===-1?(!(T&o)||T&u)&&(h[_]=_u(T,r)):P<=r&&(t.expiredLanes|=T),p&=~T}}function Zt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pi(){var t=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),t}function Tr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Ir(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ft(r),t[r]=o}function We(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ft(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Sr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ft(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ne=0;function Ar(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _a,Xi,va,Ea,wa,ho=!1,Un=[],It=null,In=null,Sn=null,Rr=new Map,cn=new Map,zn=[],vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(t,r){switch(t){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Rr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function Bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Co(r),r!==null&&Xi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Eu(t,r,o,u,h){switch(r){case"focusin":return It=Bt(It,t,r,o,u,h),!0;case"dragenter":return In=Bt(In,t,r,o,u,h),!0;case"mouseover":return Sn=Bt(Sn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Rr.set(p,Bt(Rr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,cn.set(p,Bt(cn.get(p)||null,t,r,o,u,h)),!0}return!1}function Ia(t){var r=vi(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=ci(o),r!==null){t.blockedOn=r,wa(t.priority,function(){va(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ji(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);oi=u,o.target.dispatchEvent(u),oi=null}else return r=Co(o),r!==null&&Xi(r),t.blockedOn=o,!1;r.shift()}return!0}function mi(t,r,o){rr(t)&&o.delete(r)}function Sa(){ho=!1,It!==null&&rr(It)&&(It=null),In!==null&&rr(In)&&(In=null),Sn!==null&&rr(Sn)&&(Sn=null),Rr.forEach(mi),cn.forEach(mi)}function An(t,r){t.blockedOn===r&&(t.blockedOn=null,ho||(ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sa)))}function Rn(t){function r(h){return An(h,t)}if(0<Un.length){An(Un[0],t);for(var o=1;o<Un.length;o++){var u=Un[o];u.blockedOn===t&&(u.blockedOn=null)}}for(It!==null&&An(It,t),In!==null&&An(In,t),Sn!==null&&An(Sn,t),Rr.forEach(r),cn.forEach(r),o=0;o<zn.length;o++)u=zn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)Ia(o),o.blockedOn===null&&zn.shift()}var ir=Re.ReactCurrentBatchConfig,Cr=!0;function Je(t,r,o,u){var h=Ne,p=ir.transition;ir.transition=null;try{Ne=1,fo(t,r,o,u)}finally{Ne=h,ir.transition=p}}function wu(t,r,o,u){var h=Ne,p=ir.transition;ir.transition=null;try{Ne=4,fo(t,r,o,u)}finally{Ne=h,ir.transition=p}}function fo(t,r,o,u){if(Cr){var h=Ji(t,r,o,u);if(h===null)Vu(t,r,u,gi,o),Ta(t,u);else if(Eu(h,t,r,o,u))u.stopPropagation();else if(Ta(t,u),r&4&&-1<vu.indexOf(t)){for(;h!==null;){var p=Co(h);if(p!==null&&_a(p),p=Ji(t,r,o,u),p===null&&Vu(t,r,u,gi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Vu(t,r,u,null,o)}}var gi=null;function Ji(t,r,o,u){if(gi=null,t=Bi(u),t=vi(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ci(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return gi=t,null}function po(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(da()){case hi:return 1;case Er:return 4;case un:case uo:return 16;case pa:return 536870912;default:return 16}default:return 16}}var en=null,Zi=null,bt=null;function mo(){if(bt)return bt;var t,r=Zi,o=r.length,u,h="value"in en?en.value:en.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function es(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function go(){return!1}function St(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?jn:go,this.isPropagationStopped=go,this}return Q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=St(Cn),Bn=Q({},Cn,{view:0,detail:0}),Tu=St(Bn),ns,sr,Pr,yi=Q({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pr&&(Pr&&t.type==="mousemove"?(ns=t.screenX-Pr.screenX,sr=t.screenY-Pr.screenY):sr=ns=0,Pr=t),ns)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),rs=St(yi),yo=Q({},yi,{dataTransfer:0}),Aa=St(yo),is=Q({},Bn,{relatedTarget:0}),ss=St(is),Ra=Q({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),or=St(Ra),Ca=Q({},Cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=St(Ca),ka=Q({},Cn,{data:0}),_o=St(ka),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Da[t])?!!r[t]:!1}function bn(){return xa}var l=Q({},Bn,{key:function(t){if(t.key){var r=os[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ut[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=St(l),g=Q({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(g),M=Q({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),j=St(M),te=Q({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=St(te),dt=Q({},yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=St(dt),_t=[9,13,27,32],at=m&&"CompositionEvent"in window,hn=null;m&&"documentMode"in document&&(hn=document.documentMode);var tn=m&&"TextEvent"in window&&!hn,_i=m&&(!at||hn&&8<hn&&11>=hn),as=" ",af=!1;function lf(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function Xg(t,r){switch(t){case"compositionend":return uf(r);case"keypress":return r.which!==32?null:(af=!0,as);case"textInput":return t=r.data,t===as&&af?null:t;default:return null}}function Jg(t,r){if(ls)return t==="compositionend"||!at&&lf(t,r)?(t=mo(),bt=Zi=en=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _i&&r.locale!=="ko"?null:r.data;default:return null}}var Zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Zg[t.type]:r==="textarea"}function hf(t,r,o,u){Fn(u),r=Oa(r,"onChange"),0<r.length&&(o=new ts("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var vo=null,Eo=null;function ey(t){kf(t,0)}function Va(t){var r=ds(t);if(an(r))return t}function ty(t,r){if(t==="change")return r}var ff=!1;if(m){var Iu;if(m){var Su="oninput"in document;if(!Su){var df=document.createElement("div");df.setAttribute("oninput","return;"),Su=typeof df.oninput=="function"}Iu=Su}else Iu=!1;ff=Iu&&(!document.documentMode||9<document.documentMode)}function pf(){vo&&(vo.detachEvent("onpropertychange",mf),Eo=vo=null)}function mf(t){if(t.propertyName==="value"&&Va(Eo)){var r=[];hf(r,Eo,t,Bi(t)),so(ey,r)}}function ny(t,r,o){t==="focusin"?(pf(),vo=r,Eo=o,vo.attachEvent("onpropertychange",mf)):t==="focusout"&&pf()}function ry(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(Eo)}function iy(t,r){if(t==="click")return Va(r)}function sy(t,r){if(t==="input"||t==="change")return Va(r)}function oy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:oy;function wo(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Pn(t[h],r[h]))return!1}return!0}function gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yf(t,r){var o=gf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gf(o)}}function _f(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?_f(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function vf(){for(var t=window,r=Xt();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Xt(t.document)}return r}function Au(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function ay(t){var r=vf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&_f(o.ownerDocument.documentElement,o)){if(u!==null&&Au(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=yf(o,p);var _=yf(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ly=m&&"documentMode"in document&&11>=document.documentMode,us=null,Ru=null,To=null,Cu=!1;function Ef(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cu||us==null||us!==Xt(u)||(u=us,"selectionStart"in u&&Au(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),To&&wo(To,u)||(To=u,u=Oa(Ru,"onSelect"),0<u.length&&(r=new ts("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=us)))}function Na(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var cs={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},Pu={},wf={};m&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Ma(t){if(Pu[t])return Pu[t];if(!cs[t])return t;var r=cs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in wf)return Pu[t]=r[o];return t}var Tf=Ma("animationend"),If=Ma("animationiteration"),Sf=Ma("animationstart"),Af=Ma("transitionend"),Rf=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,r){Rf.set(t,r),c(r,[t])}for(var ku=0;ku<Cf.length;ku++){var Du=Cf[ku],uy=Du.toLowerCase(),cy=Du[0].toUpperCase()+Du.slice(1);kr(uy,"on"+cy)}kr(Tf,"onAnimationEnd"),kr(If,"onAnimationIteration"),kr(Sf,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Af,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Pf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ca(u,r,void 0,t),t.currentTarget=null}function kf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],P=T.instance,U=T.currentTarget;if(T=T.listener,P!==p&&h.isPropagationStopped())break e;Pf(h,T,U),p=P}else for(_=0;_<u.length;_++){if(T=u[_],P=T.instance,U=T.currentTarget,T=T.listener,P!==p&&h.isPropagationStopped())break e;Pf(h,T,U),p=P}}}if(En)throw t=oo,En=!1,oo=null,t}function Ke(t,r){var o=r[Uu];o===void 0&&(o=r[Uu]=new Set);var u=t+"__bubble";o.has(u)||(Df(r,t,2,!1),o.add(u))}function xu(t,r,o){var u=0;r&&(u|=4),Df(o,t,u,r)}var La="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[La]){t[La]=!0,s.forEach(function(o){o!=="selectionchange"&&(hy.has(o)||xu(o,!1,t),xu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[La]||(r[La]=!0,xu("selectionchange",!1,r))}}function Df(t,r,o,u){switch(po(r)){case 1:var h=Je;break;case 4:h=wu;break;default:h=fo}o=h.bind(null,r,o,t),h=void 0,!qi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Vu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(P=_.tag,P===5||P===6){u=p=_;continue e}T=T.parentNode}}u=u.return}so(function(){var U=p,K=Bi(o),Y=[];e:{var G=Rf.get(t);if(G!==void 0){var se=ts,ce=t;switch(t){case"keypress":if(es(o)===0)break e;case"keydown":case"keyup":se=d;break;case"focusin":ce="focus",se=ss;break;case"focusout":ce="blur",se=ss;break;case"beforeblur":case"afterblur":se=ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Aa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=j;break;case Tf:case If:case Sf:se=or;break;case Af:se=$e;break;case"scroll":se=Tu;break;case"wheel":se=Oe;break;case"copy":case"cut":case"paste":se=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var he=(r&4)!==0,st=!he&&t==="scroll",L=he?G!==null?G+"Capture":null:G;he=[];for(var x=U,F;x!==null;){F=x;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,L!==null&&(Z=it(x,L),Z!=null&&he.push(Ao(x,Z,F)))),st)break;x=x.return}0<he.length&&(G=new se(G,ce,null,o,K),Y.push({event:G,listeners:he}))}}if(!(r&7)){e:{if(G=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",G&&o!==oi&&(ce=o.relatedTarget||o.fromElement)&&(vi(ce)||ce[ar]))break e;if((se||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,se?(ce=o.relatedTarget||o.toElement,se=U,ce=ce?vi(ce):null,ce!==null&&(st=wn(ce),ce!==st||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=U),se!==ce)){if(he=rs,Z="onMouseLeave",L="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(he=E,Z="onPointerLeave",L="onPointerEnter",x="pointer"),st=se==null?G:ds(se),F=ce==null?G:ds(ce),G=new he(Z,x+"leave",se,o,K),G.target=st,G.relatedTarget=F,Z=null,vi(K)===U&&(he=new he(L,x+"enter",ce,o,K),he.target=F,he.relatedTarget=st,Z=he),st=Z,se&&ce)t:{for(he=se,L=ce,x=0,F=he;F;F=hs(F))x++;for(F=0,Z=L;Z;Z=hs(Z))F++;for(;0<x-F;)he=hs(he),x--;for(;0<F-x;)L=hs(L),F--;for(;x--;){if(he===L||L!==null&&he===L.alternate)break t;he=hs(he),L=hs(L)}he=null}else he=null;se!==null&&xf(Y,G,se,he,!1),ce!==null&&st!==null&&xf(Y,st,ce,he,!0)}}e:{if(G=U?ds(U):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var fe=ty;else if(cf(G))if(ff)fe=sy;else{fe=ry;var me=ny}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(fe=iy);if(fe&&(fe=fe(t,U))){hf(Y,fe,o,K);break e}me&&me(t,G,U),t==="focusout"&&(me=G._wrapperState)&&me.controlled&&G.type==="number"&&Ui(G,"number",G.value)}switch(me=U?ds(U):window,t){case"focusin":(cf(me)||me.contentEditable==="true")&&(us=me,Ru=U,To=null);break;case"focusout":To=Ru=us=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,Ef(Y,o,K);break;case"selectionchange":if(ly)break;case"keydown":case"keyup":Ef(Y,o,K)}var ge;if(at)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ls?lf(t,o)&&(we="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(_i&&o.locale!=="ko"&&(ls||we!=="onCompositionStart"?we==="onCompositionEnd"&&ls&&(ge=mo()):(en=K,Zi="value"in en?en.value:en.textContent,ls=!0)),me=Oa(U,we),0<me.length&&(we=new _o(we,t,null,o,K),Y.push({event:we,listeners:me}),ge?we.data=ge:(ge=uf(o),ge!==null&&(we.data=ge)))),(ge=tn?Xg(t,o):Jg(t,o))&&(U=Oa(U,"onBeforeInput"),0<U.length&&(K=new _o("onBeforeInput","beforeinput",null,o,K),Y.push({event:K,listeners:U}),K.data=ge))}kf(Y,r)})}function Ao(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Oa(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=it(t,o),p!=null&&u.unshift(Ao(t,p,h)),p=it(t,r),p!=null&&u.push(Ao(t,p,h))),t=t.return}return u}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var T=o,P=T.alternate,U=T.stateNode;if(P!==null&&P===u)break;T.tag===5&&U!==null&&(T=U,h?(P=it(o,p),P!=null&&_.unshift(Ao(o,P,T))):h||(P=it(o,p),P!=null&&_.push(Ao(o,P,T)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var fy=/\r\n?/g,dy=/\u0000|\uFFFD/g;function Vf(t){return(typeof t=="string"?t:""+t).replace(fy,`
`).replace(dy,"")}function Fa(t,r,o){if(r=Vf(r),Vf(t)!==r&&o)throw Error(n(425))}function Ua(){}var Nu=null,Mu=null;function Lu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,py=typeof clearTimeout=="function"?clearTimeout:void 0,Nf=typeof Promise=="function"?Promise:void 0,my=typeof queueMicrotask=="function"?queueMicrotask:typeof Nf<"u"?function(t){return Nf.resolve(null).then(t).catch(gy)}:Ou;function gy(t){setTimeout(function(){throw t})}function Fu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Rn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Rn(r)}function Dr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Mf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var fs=Math.random().toString(36).slice(2),$n="__reactFiber$"+fs,Ro="__reactProps$"+fs,ar="__reactContainer$"+fs,Uu="__reactEvents$"+fs,yy="__reactListeners$"+fs,_y="__reactHandles$"+fs;function vi(t){var r=t[$n];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ar]||o[$n]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Mf(t);t!==null;){if(o=t[$n])return o;t=Mf(t)}return r}t=o,o=t.parentNode}return null}function Co(t){return t=t[$n]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function za(t){return t[Ro]||null}var zu=[],ps=-1;function xr(t){return{current:t}}function Ye(t){0>ps||(t.current=zu[ps],zu[ps]=null,ps--)}function Ge(t,r){ps++,zu[ps]=t.current,t.current=r}var Vr={},Dt=xr(Vr),$t=xr(!1),Ei=Vr;function ms(t,r){var o=t.type.contextTypes;if(!o)return Vr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function ja(){Ye($t),Ye(Dt)}function Lf(t,r,o){if(Dt.current!==Vr)throw Error(n(168));Ge(Dt,r),Ge($t,o)}function Of(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,ke(t)||"Unknown",h));return Q({},o,u)}function Ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,Ei=Dt.current,Ge(Dt,t),Ge($t,$t.current),!0}function Ff(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Of(t,r,Ei),u.__reactInternalMemoizedMergedChildContext=t,Ye($t),Ye(Dt),Ge(Dt,t)):Ye($t),Ge($t,o)}var lr=null,ba=!1,ju=!1;function Uf(t){lr===null?lr=[t]:lr.push(t)}function vy(t){ba=!0,Uf(t)}function Nr(){if(!ju&&lr!==null){ju=!0;var t=0,r=Ne;try{var o=lr;for(Ne=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}lr=null,ba=!1}catch(h){throw lr!==null&&(lr=lr.slice(t+1)),Gi(hi,Nr),h}finally{Ne=r,ju=!1}}return null}var gs=[],ys=0,$a=null,qa=0,fn=[],dn=0,wi=null,ur=1,cr="";function Ti(t,r){gs[ys++]=qa,gs[ys++]=$a,$a=t,qa=r}function zf(t,r,o){fn[dn++]=ur,fn[dn++]=cr,fn[dn++]=wi,wi=t;var u=ur;t=cr;var h=32-Ft(u)-1;u&=~(1<<h),o+=1;var p=32-Ft(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,ur=1<<32-Ft(r)+h|o<<h|u,cr=p+t}else ur=1<<p|o<<h|u,cr=t}function Bu(t){t.return!==null&&(Ti(t,1),zf(t,1,0))}function bu(t){for(;t===$a;)$a=gs[--ys],gs[ys]=null,qa=gs[--ys],gs[ys]=null;for(;t===wi;)wi=fn[--dn],fn[dn]=null,cr=fn[--dn],fn[dn]=null,ur=fn[--dn],fn[dn]=null}var nn=null,rn=null,Ze=!1,kn=null;function jf(t,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Bf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,nn=t,rn=Dr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,nn=t,rn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=wi!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,nn=t,rn=null,!0):!1;default:return!1}}function $u(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qu(t){if(Ze){var r=rn;if(r){var o=r;if(!Bf(t,r)){if($u(t))throw Error(n(418));r=Dr(o.nextSibling);var u=nn;r&&Bf(t,r)?jf(u,o):(t.flags=t.flags&-4097|2,Ze=!1,nn=t)}}else{if($u(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ze=!1,nn=t}}}function bf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Ha(t){if(t!==nn)return!1;if(!Ze)return bf(t),Ze=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Lu(t.type,t.memoizedProps)),r&&(r=rn)){if($u(t))throw $f(),Error(n(418));for(;r;)jf(t,r),r=Dr(r.nextSibling)}if(bf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){rn=Dr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}rn=null}}else rn=nn?Dr(t.stateNode.nextSibling):null;return!0}function $f(){for(var t=rn;t;)t=Dr(t.nextSibling)}function _s(){rn=nn=null,Ze=!1}function Hu(t){kn===null?kn=[t]:kn.push(t)}var Ey=Re.ReactCurrentBatchConfig;function Po(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var T=h.refs;_===null?delete T[p]:T[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Wa(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function qf(t){var r=t._init;return r(t._payload)}function Hf(t){function r(L,x){if(t){var F=L.deletions;F===null?(L.deletions=[x],L.flags|=16):F.push(x)}}function o(L,x){if(!t)return null;for(;x!==null;)r(L,x),x=x.sibling;return null}function u(L,x){for(L=new Map;x!==null;)x.key!==null?L.set(x.key,x):L.set(x.index,x),x=x.sibling;return L}function h(L,x){return L=Br(L,x),L.index=0,L.sibling=null,L}function p(L,x,F){return L.index=F,t?(F=L.alternate,F!==null?(F=F.index,F<x?(L.flags|=2,x):F):(L.flags|=2,x)):(L.flags|=1048576,x)}function _(L){return t&&L.alternate===null&&(L.flags|=2),L}function T(L,x,F,Z){return x===null||x.tag!==6?(x=Oc(F,L.mode,Z),x.return=L,x):(x=h(x,F),x.return=L,x)}function P(L,x,F,Z){var fe=F.type;return fe===V?K(L,x,F.props.children,Z,F.key):x!==null&&(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&qf(fe)===x.type)?(Z=h(x,F.props),Z.ref=Po(L,x,F),Z.return=L,Z):(Z=gl(F.type,F.key,F.props,null,L.mode,Z),Z.ref=Po(L,x,F),Z.return=L,Z)}function U(L,x,F,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==F.containerInfo||x.stateNode.implementation!==F.implementation?(x=Fc(F,L.mode,Z),x.return=L,x):(x=h(x,F.children||[]),x.return=L,x)}function K(L,x,F,Z,fe){return x===null||x.tag!==7?(x=Di(F,L.mode,Z,fe),x.return=L,x):(x=h(x,F),x.return=L,x)}function Y(L,x,F){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Oc(""+x,L.mode,F),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case He:return F=gl(x.type,x.key,x.props,null,L.mode,F),F.ref=Po(L,null,x),F.return=L,F;case Ce:return x=Fc(x,L.mode,F),x.return=L,x;case ee:var Z=x._init;return Y(L,Z(x._payload),F)}if(Jn(x)||X(x))return x=Di(x,L.mode,F,null),x.return=L,x;Wa(L,x)}return null}function G(L,x,F,Z){var fe=x!==null?x.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return fe!==null?null:T(L,x,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case He:return F.key===fe?P(L,x,F,Z):null;case Ce:return F.key===fe?U(L,x,F,Z):null;case ee:return fe=F._init,G(L,x,fe(F._payload),Z)}if(Jn(F)||X(F))return fe!==null?null:K(L,x,F,Z,null);Wa(L,F)}return null}function se(L,x,F,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return L=L.get(F)||null,T(x,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case He:return L=L.get(Z.key===null?F:Z.key)||null,P(x,L,Z,fe);case Ce:return L=L.get(Z.key===null?F:Z.key)||null,U(x,L,Z,fe);case ee:var me=Z._init;return se(L,x,F,me(Z._payload),fe)}if(Jn(Z)||X(Z))return L=L.get(F)||null,K(x,L,Z,fe,null);Wa(x,Z)}return null}function ce(L,x,F,Z){for(var fe=null,me=null,ge=x,we=x=0,wt=null;ge!==null&&we<F.length;we++){ge.index>we?(wt=ge,ge=null):wt=ge.sibling;var Be=G(L,ge,F[we],Z);if(Be===null){ge===null&&(ge=wt);break}t&&ge&&Be.alternate===null&&r(L,ge),x=p(Be,x,we),me===null?fe=Be:me.sibling=Be,me=Be,ge=wt}if(we===F.length)return o(L,ge),Ze&&Ti(L,we),fe;if(ge===null){for(;we<F.length;we++)ge=Y(L,F[we],Z),ge!==null&&(x=p(ge,x,we),me===null?fe=ge:me.sibling=ge,me=ge);return Ze&&Ti(L,we),fe}for(ge=u(L,ge);we<F.length;we++)wt=se(ge,L,we,F[we],Z),wt!==null&&(t&&wt.alternate!==null&&ge.delete(wt.key===null?we:wt.key),x=p(wt,x,we),me===null?fe=wt:me.sibling=wt,me=wt);return t&&ge.forEach(function(br){return r(L,br)}),Ze&&Ti(L,we),fe}function he(L,x,F,Z){var fe=X(F);if(typeof fe!="function")throw Error(n(150));if(F=fe.call(F),F==null)throw Error(n(151));for(var me=fe=null,ge=x,we=x=0,wt=null,Be=F.next();ge!==null&&!Be.done;we++,Be=F.next()){ge.index>we?(wt=ge,ge=null):wt=ge.sibling;var br=G(L,ge,Be.value,Z);if(br===null){ge===null&&(ge=wt);break}t&&ge&&br.alternate===null&&r(L,ge),x=p(br,x,we),me===null?fe=br:me.sibling=br,me=br,ge=wt}if(Be.done)return o(L,ge),Ze&&Ti(L,we),fe;if(ge===null){for(;!Be.done;we++,Be=F.next())Be=Y(L,Be.value,Z),Be!==null&&(x=p(Be,x,we),me===null?fe=Be:me.sibling=Be,me=Be);return Ze&&Ti(L,we),fe}for(ge=u(L,ge);!Be.done;we++,Be=F.next())Be=se(ge,L,we,Be.value,Z),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?we:Be.key),x=p(Be,x,we),me===null?fe=Be:me.sibling=Be,me=Be);return t&&ge.forEach(function(Jy){return r(L,Jy)}),Ze&&Ti(L,we),fe}function st(L,x,F,Z){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case He:e:{for(var fe=F.key,me=x;me!==null;){if(me.key===fe){if(fe=F.type,fe===V){if(me.tag===7){o(L,me.sibling),x=h(me,F.props.children),x.return=L,L=x;break e}}else if(me.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===ee&&qf(fe)===me.type){o(L,me.sibling),x=h(me,F.props),x.ref=Po(L,me,F),x.return=L,L=x;break e}o(L,me);break}else r(L,me);me=me.sibling}F.type===V?(x=Di(F.props.children,L.mode,Z,F.key),x.return=L,L=x):(Z=gl(F.type,F.key,F.props,null,L.mode,Z),Z.ref=Po(L,x,F),Z.return=L,L=Z)}return _(L);case Ce:e:{for(me=F.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===F.containerInfo&&x.stateNode.implementation===F.implementation){o(L,x.sibling),x=h(x,F.children||[]),x.return=L,L=x;break e}else{o(L,x);break}else r(L,x);x=x.sibling}x=Fc(F,L.mode,Z),x.return=L,L=x}return _(L);case ee:return me=F._init,st(L,x,me(F._payload),Z)}if(Jn(F))return ce(L,x,F,Z);if(X(F))return he(L,x,F,Z);Wa(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,x!==null&&x.tag===6?(o(L,x.sibling),x=h(x,F),x.return=L,L=x):(o(L,x),x=Oc(F,L.mode,Z),x.return=L,L=x),_(L)):o(L,x)}return st}var vs=Hf(!0),Wf=Hf(!1),Qa=xr(null),Ga=null,Es=null,Wu=null;function Qu(){Wu=Es=Ga=null}function Gu(t){var r=Qa.current;Ye(Qa),t._currentValue=r}function Ku(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function ws(t,r){Ga=t,Wu=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Ht=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(Wu!==t)if(t={context:t,memoizedValue:r,next:null},Es===null){if(Ga===null)throw Error(n(308));Es=t,Ga.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return r}var Ii=null;function Yu(t){Ii===null?Ii=[t]:Ii.push(t)}function Qf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Yu(r)):(o.next=h.next,h.next=o),r.interleaved=o,hr(t,u)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Mr=!1;function Xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Lr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,je&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,hr(t,o)}return h=u.interleaved,h===null?(r.next=r,Yu(u)):(r.next=h.next,h.next=r),u.interleaved=r,hr(t,o)}function Ka(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Sr(t,o)}}function Kf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ya(t,r,o,u){var h=t.updateQueue;Mr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var P=T,U=P.next;P.next=null,_===null?p=U:_.next=U,_=P;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=P))}if(p!==null){var Y=h.baseState;_=0,K=U=P=null,T=p;do{var G=T.lane,se=T.eventTime;if((u&G)===G){K!==null&&(K=K.next={eventTime:se,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ce=t,he=T;switch(G=r,se=o,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){Y=ce.call(se,Y,G);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,G=typeof ce=="function"?ce.call(se,Y,G):ce,G==null)break e;Y=Q({},Y,G);break e;case 2:Mr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,G=h.effects,G===null?h.effects=[T]:G.push(T))}else se={eventTime:se,lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=se,P=Y):K=K.next=se,_|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);if(K===null&&(P=Y),h.baseState=P,h.firstBaseUpdate=U,h.lastBaseUpdate=K,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ri|=_,t.lanes=_,t.memoizedState=Y}}function Yf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var ko={},qn=xr(ko),Do=xr(ko),xo=xr(ko);function Si(t){if(t===ko)throw Error(n(174));return t}function Ju(t,r){switch(Ge(xo,r),Ge(Do,t),Ge(qn,ko),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ft(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ft(r,t)}Ye(qn),Ge(qn,r)}function Ts(){Ye(qn),Ye(Do),Ye(xo)}function Xf(t){Si(xo.current);var r=Si(qn.current),o=ft(r,t.type);r!==o&&(Ge(Do,t),Ge(qn,o))}function Zu(t){Do.current===t&&(Ye(qn),Ye(Do))}var et=xr(0);function Xa(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ec=[];function tc(){for(var t=0;t<ec.length;t++)ec[t]._workInProgressVersionPrimary=null;ec.length=0}var Ja=Re.ReactCurrentDispatcher,nc=Re.ReactCurrentBatchConfig,Ai=0,tt=null,pt=null,vt=null,Za=!1,Vo=!1,No=0,wy=0;function xt(){throw Error(n(321))}function rc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Pn(t[o],r[o]))return!1;return!0}function ic(t,r,o,u,h,p){if(Ai=p,tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ja.current=t===null||t.memoizedState===null?Ay:Ry,t=o(u,h),Vo){p=0;do{if(Vo=!1,No=0,25<=p)throw Error(n(301));p+=1,vt=pt=null,r.updateQueue=null,Ja.current=Cy,t=o(u,h)}while(Vo)}if(Ja.current=nl,r=pt!==null&&pt.next!==null,Ai=0,vt=pt=tt=null,Za=!1,r)throw Error(n(300));return t}function sc(){var t=No!==0;return No=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?tt.memoizedState=vt=t:vt=vt.next=t,vt}function mn(){if(pt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=vt===null?tt.memoizedState:vt.next;if(r!==null)vt=r,pt=t;else{if(t===null)throw Error(n(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},vt===null?tt.memoizedState=vt=t:vt=vt.next=t}return vt}function Mo(t,r){return typeof r=="function"?r(t):r}function oc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=pt,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var T=_=null,P=null,U=p;do{var K=U.lane;if((Ai&K)===K)P!==null&&(P=P.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),u=U.hasEagerState?U.eagerState:t(u,U.action);else{var Y={lane:K,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};P===null?(T=P=Y,_=u):P=P.next=Y,tt.lanes|=K,Ri|=K}U=U.next}while(U!==null&&U!==p);P===null?_=u:P.next=T,Pn(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,tt.lanes|=p,Ri|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function ac(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Pn(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Jf(){}function Zf(t,r){var o=tt,u=mn(),h=r(),p=!Pn(u.memoizedState,h);if(p&&(u.memoizedState=h,Ht=!0),u=u.queue,lc(nd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,Lo(9,td.bind(null,o,u,h,r),void 0,null),Et===null)throw Error(n(349));Ai&30||ed(o,r,h)}return h}function ed(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=tt.updateQueue,r===null?(r={lastEffect:null,stores:null},tt.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function td(t,r,o,u){r.value=o,r.getSnapshot=u,rd(r)&&id(t)}function nd(t,r,o){return o(function(){rd(r)&&id(t)})}function rd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Pn(t,o)}catch{return!0}}function id(t){var r=hr(t,1);r!==null&&Nn(r,t,1,-1)}function sd(t){var r=Hn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},r.queue=t,t=t.dispatch=Sy.bind(null,tt,t),[r.memoizedState,t]}function Lo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=tt.updateQueue,r===null?(r={lastEffect:null,stores:null},tt.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function od(){return mn().memoizedState}function el(t,r,o,u){var h=Hn();tt.flags|=t,h.memoizedState=Lo(1|r,o,void 0,u===void 0?null:u)}function tl(t,r,o,u){var h=mn();u=u===void 0?null:u;var p=void 0;if(pt!==null){var _=pt.memoizedState;if(p=_.destroy,u!==null&&rc(u,_.deps)){h.memoizedState=Lo(r,o,p,u);return}}tt.flags|=t,h.memoizedState=Lo(1|r,o,p,u)}function ad(t,r){return el(8390656,8,t,r)}function lc(t,r){return tl(2048,8,t,r)}function ld(t,r){return tl(4,2,t,r)}function ud(t,r){return tl(4,4,t,r)}function cd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function hd(t,r,o){return o=o!=null?o.concat([t]):null,tl(4,4,cd.bind(null,r,t),o)}function uc(){}function fd(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function dd(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&rc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function pd(t,r,o){return Ai&21?(Pn(o,r)||(o=pi(),tt.lanes|=o,Ri|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=o)}function Ty(t,r){var o=Ne;Ne=o!==0&&4>o?o:4,t(!0);var u=nc.transition;nc.transition={};try{t(!1),r()}finally{Ne=o,nc.transition=u}}function md(){return mn().memoizedState}function Iy(t,r,o){var u=zr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},gd(t))yd(r,o);else if(o=Qf(t,r,o,u),o!==null){var h=jt();Nn(o,t,u,h),_d(o,r,u)}}function Sy(t,r,o){var u=zr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(gd(t))yd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,T=p(_,o);if(h.hasEagerState=!0,h.eagerState=T,Pn(T,_)){var P=r.interleaved;P===null?(h.next=h,Yu(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}o=Qf(t,r,h,u),o!==null&&(h=jt(),Nn(o,t,u,h),_d(o,r,u))}}function gd(t){var r=t.alternate;return t===tt||r!==null&&r===tt}function yd(t,r){Vo=Za=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function _d(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Sr(t,o)}}var nl={readContext:pn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Ay={readContext:pn,useCallback:function(t,r){return Hn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:ad,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,el(4194308,4,cd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return el(4194308,4,t,r)},useInsertionEffect:function(t,r){return el(4,2,t,r)},useMemo:function(t,r){var o=Hn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Hn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Iy.bind(null,tt,t),[u.memoizedState,t]},useRef:function(t){var r=Hn();return t={current:t},r.memoizedState=t},useState:sd,useDebugValue:uc,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=sd(!1),r=t[0];return t=Ty.bind(null,t[1]),Hn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=tt,h=Hn();if(Ze){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Et===null)throw Error(n(349));Ai&30||ed(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,ad(nd.bind(null,u,p,t),[t]),u.flags|=2048,Lo(9,td.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Hn(),r=Et.identifierPrefix;if(Ze){var o=cr,u=ur;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=No++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=wy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Ry={readContext:pn,useCallback:fd,useContext:pn,useEffect:lc,useImperativeHandle:hd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:oc,useRef:od,useState:function(){return oc(Mo)},useDebugValue:uc,useDeferredValue:function(t){var r=mn();return pd(r,pt.memoizedState,t)},useTransition:function(){var t=oc(Mo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:md,unstable_isNewReconciler:!1},Cy={readContext:pn,useCallback:fd,useContext:pn,useEffect:lc,useImperativeHandle:hd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:ac,useRef:od,useState:function(){return ac(Mo)},useDebugValue:uc,useDeferredValue:function(t){var r=mn();return pt===null?r.memoizedState=t:pd(r,pt.memoizedState,t)},useTransition:function(){var t=ac(Mo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:md,unstable_isNewReconciler:!1};function Dn(t,r){if(t&&t.defaultProps){r=Q({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function cc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:Q({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var rl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=jt(),h=zr(t),p=fr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(Nn(r,t,h,u),Ka(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=jt(),h=zr(t),p=fr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(Nn(r,t,h,u),Ka(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=jt(),u=zr(t),h=fr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Lr(t,h,u),r!==null&&(Nn(r,t,u,o),Ka(r,t,u))}};function vd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!wo(o,u)||!wo(h,p):!0}function Ed(t,r,o){var u=!1,h=Vr,p=r.contextType;return typeof p=="object"&&p!==null?p=pn(p):(h=qt(r)?Ei:Dt.current,u=r.contextTypes,p=(u=u!=null)?ms(t,h):Vr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=rl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function wd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&rl.enqueueReplaceState(r,r.state,null)}function hc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Xu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=pn(p):(p=qt(r)?Ei:Dt.current,h.context=ms(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(cc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&rl.enqueueReplaceState(h,h.state,null),Ya(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,r){try{var o="",u=r;do o+=ve(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function fc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function dc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Py=typeof WeakMap=="function"?WeakMap:Map;function Td(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){cl||(cl=!0,Pc=u),dc(t,r)},o}function Id(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){dc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){dc(t,r),typeof u!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Sd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Py;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=by.bind(null,t,r,o),r.then(t,t))}function Ad(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Rd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,Lr(o,r,1))),o.lanes|=1),t)}var ky=Re.ReactCurrentOwner,Ht=!1;function zt(t,r,o,u){r.child=t===null?Wf(r,null,o,u):vs(r,t.child,o,u)}function Cd(t,r,o,u,h){o=o.render;var p=r.ref;return ws(r,h),u=ic(t,r,o,u,p,h),o=sc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ze&&o&&Bu(r),r.flags|=1,zt(t,r,u,h),r.child)}function Pd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Lc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,kd(t,r,p,u,h)):(t=gl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:wo,o(_,u)&&t.ref===r.ref)return dr(t,r,h)}return r.flags|=1,t=Br(p,u),t.ref=r.ref,t.return=r,r.child=t}function kd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(wo(p,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Ht=!0);else return r.lanes=t.lanes,dr(t,r,h)}return pc(t,r,o,u,h)}function Dd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(As,sn),sn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ge(As,sn),sn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Ge(As,sn),sn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,Ge(As,sn),sn|=u;return zt(t,r,h,o),r.child}function xd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function pc(t,r,o,u,h){var p=qt(o)?Ei:Dt.current;return p=ms(r,p),ws(r,h),o=ic(t,r,o,u,p,h),u=sc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ze&&u&&Bu(r),r.flags|=1,zt(t,r,o,h),r.child)}function Vd(t,r,o,u,h){if(qt(o)){var p=!0;Ba(r)}else p=!1;if(ws(r,h),r.stateNode===null)sl(t,r),Ed(r,o,u),hc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,T=r.memoizedProps;_.props=T;var P=_.context,U=o.contextType;typeof U=="object"&&U!==null?U=pn(U):(U=qt(o)?Ei:Dt.current,U=ms(r,U));var K=o.getDerivedStateFromProps,Y=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==u||P!==U)&&wd(r,_,u,U),Mr=!1;var G=r.memoizedState;_.state=G,Ya(r,u,_,h),P=r.memoizedState,T!==u||G!==P||$t.current||Mr?(typeof K=="function"&&(cc(r,o,K,u),P=r.memoizedState),(T=Mr||vd(r,o,T,u,G,P,U))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),_.props=u,_.state=P,_.context=U,u=T):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Gf(t,r),T=r.memoizedProps,U=r.type===r.elementType?T:Dn(r.type,T),_.props=U,Y=r.pendingProps,G=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=pn(P):(P=qt(o)?Ei:Dt.current,P=ms(r,P));var se=o.getDerivedStateFromProps;(K=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==Y||G!==P)&&wd(r,_,u,P),Mr=!1,G=r.memoizedState,_.state=G,Ya(r,u,_,h);var ce=r.memoizedState;T!==Y||G!==ce||$t.current||Mr?(typeof se=="function"&&(cc(r,o,se,u),ce=r.memoizedState),(U=Mr||vd(r,o,U,u,G,ce,P)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ce,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ce,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ce),_.props=u,_.state=ce,_.context=P,u=U):(typeof _.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return mc(t,r,o,u,p,h)}function mc(t,r,o,u,h,p){xd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Ff(r,o,!1),dr(t,r,p);u=r.stateNode,ky.current=r;var T=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=vs(r,t.child,null,p),r.child=vs(r,null,T,p)):zt(t,r,T,p),r.memoizedState=u.state,h&&Ff(r,o,!0),r.child}function Nd(t){var r=t.stateNode;r.pendingContext?Lf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Lf(t,r.context,!1),Ju(t,r.containerInfo)}function Md(t,r,o,u,h){return _s(),Hu(h),r.flags|=256,zt(t,r,o,u),r.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ld(t,r,o){var u=r.pendingProps,h=et.current,p=!1,_=(r.flags&128)!==0,T;if((T=_)||(T=t!==null&&t.memoizedState===null?!1:(h&2)!==0),T?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ge(et,h&1),t===null)return qu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=yl(_,u,0,null),t=Di(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=yc(o),r.memoizedState=gc,t):_c(r,_));if(h=t.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return Dy(t,r,_,u,T,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,T=h.sibling;var P={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Br(h,P),u.subtreeFlags=h.subtreeFlags&14680064),T!==null?p=Br(T,p):(p=Di(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?yc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=gc,u}return p=t.child,t=p.sibling,u=Br(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function _c(t,r){return r=yl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function il(t,r,o,u){return u!==null&&Hu(u),vs(r,t.child,null,o),t=_c(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Dy(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=fc(Error(n(422))),il(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=yl({mode:"visible",children:u.children},h,0,null),p=Di(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&vs(r,t.child,null,_),r.child.memoizedState=yc(_),r.memoizedState=gc,p);if(!(r.mode&1))return il(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var T=u.dgst;return u=T,p=Error(n(419)),u=fc(p,u,void 0),il(t,r,_,u)}if(T=(_&t.childLanes)!==0,Ht||T){if(u=Et,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,hr(t,h),Nn(u,t,h,-1))}return Mc(),u=fc(Error(n(421))),il(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=$y.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,rn=Dr(h.nextSibling),nn=r,Ze=!0,kn=null,t!==null&&(fn[dn++]=ur,fn[dn++]=cr,fn[dn++]=wi,ur=t.id,cr=t.overflow,wi=r),r=_c(r,u.children),r.flags|=4096,r)}function Od(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ku(t.return,r,o)}function vc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Fd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(zt(t,r,u.children,o),u=et.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Od(t,o,r);else if(t.tag===19)Od(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ge(et,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Xa(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),vc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Xa(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}vc(r,!0,o,null,p);break;case"together":vc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function sl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Br(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Br(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function xy(t,r,o){switch(r.tag){case 3:Nd(r),_s();break;case 5:Xf(r);break;case 1:qt(r.type)&&Ba(r);break;case 4:Ju(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;Ge(Qa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ge(et,et.current&1),r.flags|=128,null):o&r.child.childLanes?Ld(t,r,o):(Ge(et,et.current&1),t=dr(t,r,o),t!==null?t.sibling:null);Ge(et,et.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Fd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ge(et,et.current),u)break;return null;case 22:case 23:return r.lanes=0,Dd(t,r,o)}return dr(t,r,o)}var Ud,Ec,zd,jd;Ud=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ec=function(){},zd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Si(qn.current);var p=null;switch(o){case"input":h=ri(t,h),u=ri(t,u),p=[];break;case"select":h=Q({},h,{value:void 0}),u=Q({},u,{value:void 0}),p=[];break;case"textarea":h=Ks(t,h),u=Ks(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ua)}to(o,u);var _;o=null;for(U in h)if(!u.hasOwnProperty(U)&&h.hasOwnProperty(U)&&h[U]!=null)if(U==="style"){var T=h[U];for(_ in T)T.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(a.hasOwnProperty(U)?p||(p=[]):(p=p||[]).push(U,null));for(U in u){var P=u[U];if(T=h!=null?h[U]:void 0,u.hasOwnProperty(U)&&P!==T&&(P!=null||T!=null))if(U==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&T[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(U,o)),o=P;else U==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,T=T?T.__html:void 0,P!=null&&T!==P&&(p=p||[]).push(U,P)):U==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(U,""+P):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(a.hasOwnProperty(U)?(P!=null&&U==="onScroll"&&Ke("scroll",t),p||T===P||(p=[])):(p=p||[]).push(U,P))}o&&(p=p||[]).push("style",o);var U=p;(r.updateQueue=U)&&(r.flags|=4)}},jd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Oo(t,r){if(!Ze)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Vy(t,r,o){var u=r.pendingProps;switch(bu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return qt(r.type)&&ja(),Vt(r),null;case 3:return u=r.stateNode,Ts(),Ye($t),Ye(Dt),tc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,kn!==null&&(xc(kn),kn=null))),Ec(t,r),Vt(r),null;case 5:Zu(r);var h=Si(xo.current);if(o=r.type,t!==null&&r.stateNode!=null)zd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=Si(qn.current),Ha(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[$n]=r,u[Ro]=p,t=(r.mode&1)!==0,o){case"dialog":Ke("cancel",u),Ke("close",u);break;case"iframe":case"object":case"embed":Ke("load",u);break;case"video":case"audio":for(h=0;h<Io.length;h++)Ke(Io[h],u);break;case"source":Ke("error",u);break;case"img":case"image":case"link":Ke("error",u),Ke("load",u);break;case"details":Ke("toggle",u);break;case"input":Fi(u,p),Ke("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Ke("invalid",u);break;case"textarea":zi(u,p),Ke("invalid",u)}to(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var T=p[_];_==="children"?typeof T=="string"?u.textContent!==T&&(p.suppressHydrationWarning!==!0&&Fa(u.textContent,T,t),h=["children",T]):typeof T=="number"&&u.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&Fa(u.textContent,T,t),h=["children",""+T]):a.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&Ke("scroll",u)}switch(o){case"input":yt(u),ua(u,p,!0);break;case"textarea":yt(u),Ys(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ua)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[$n]=r,t[Ro]=u,Ud(t,r,!1,!1),r.stateNode=t;e:{switch(_=no(o,u),o){case"dialog":Ke("cancel",t),Ke("close",t),h=u;break;case"iframe":case"object":case"embed":Ke("load",t),h=u;break;case"video":case"audio":for(h=0;h<Io.length;h++)Ke(Io[h],t);h=u;break;case"source":Ke("error",t),h=u;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),h=u;break;case"details":Ke("toggle",t),h=u;break;case"input":Fi(t,u),h=ri(t,u),Ke("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=Q({},u,{value:void 0}),Ke("invalid",t);break;case"textarea":zi(t,u),h=Ks(t,u),Ke("invalid",t);break;default:h=u}to(o,h),T=h;for(p in T)if(T.hasOwnProperty(p)){var P=T[p];p==="style"?Zs(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Xs(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&vr(t,P):typeof P=="number"&&vr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&Ke("scroll",t):P!=null&&_e(t,p,P,_))}switch(o){case"input":yt(t),ua(t,u,!1);break;case"textarea":yt(t),Ys(t);break;case"option":u.value!=null&&t.setAttribute("value",""+xe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Zn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Zn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ua)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)jd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Si(xo.current),Si(qn.current),Ha(r)){if(u=r.stateNode,o=r.memoizedProps,u[$n]=r,(p=u.nodeValue!==o)&&(t=nn,t!==null))switch(t.tag){case 3:Fa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[$n]=r,r.stateNode=u}return Vt(r),null;case 13:if(Ye(et),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&rn!==null&&r.mode&1&&!(r.flags&128))$f(),_s(),r.flags|=98560,p=!1;else if(p=Ha(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[$n]=r}else _s(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else kn!==null&&(xc(kn),kn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||et.current&1?mt===0&&(mt=3):Mc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return Ts(),Ec(t,r),t===null&&So(r.stateNode.containerInfo),Vt(r),null;case 10:return Gu(r.type._context),Vt(r),null;case 17:return qt(r.type)&&ja(),Vt(r),null;case 19:if(Ye(et),p=r.memoizedState,p===null)return Vt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Oo(p,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=Xa(t),_!==null){for(r.flags|=128,Oo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ge(et,et.current&1|2),r.child}t=t.sibling}p.tail!==null&&Qe()>Rs&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Xa(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ze)return Vt(r),null}else 2*Qe()-p.renderingStartTime>Rs&&o!==1073741824&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Qe(),r.sibling=null,o=et.current,Ge(et,u?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return Nc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?sn&1073741824&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Ny(t,r){switch(bu(r),r.tag){case 1:return qt(r.type)&&ja(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ts(),Ye($t),Ye(Dt),tc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Zu(r),null;case 13:if(Ye(et),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));_s()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ye(et),null;case 4:return Ts(),null;case 10:return Gu(r.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var ol=!1,Nt=!1,My=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ss(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){rt(t,r,u)}else o.current=null}function wc(t,r,o){try{o()}catch(u){rt(t,r,u)}}var Bd=!1;function Ly(t,r){if(Nu=Cr,t=vf(),Au(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,T=-1,P=-1,U=0,K=0,Y=t,G=null;t:for(;;){for(var se;Y!==o||h!==0&&Y.nodeType!==3||(T=_+h),Y!==p||u!==0&&Y.nodeType!==3||(P=_+u),Y.nodeType===3&&(_+=Y.nodeValue.length),(se=Y.firstChild)!==null;)G=Y,Y=se;for(;;){if(Y===t)break t;if(G===o&&++U===h&&(T=_),G===p&&++K===u&&(P=_),(se=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=se}o=T===-1||P===-1?null:{start:T,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mu={focusedElem:t,selectionRange:o},Cr=!1,ue=r;ue!==null;)if(r=ue,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ue=t;else for(;ue!==null;){r=ue;try{var ce=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,st=ce.memoizedState,L=r.stateNode,x=L.getSnapshotBeforeUpdate(r.elementType===r.type?he:Dn(r.type,he),st);L.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){rt(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,ue=t;break}ue=r.return}return ce=Bd,Bd=!1,ce}function Fo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&wc(r,o,p)}h=h.next}while(h!==u)}}function al(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Tc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function bd(t){var r=t.alternate;r!==null&&(t.alternate=null,bd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[$n],delete r[Ro],delete r[Uu],delete r[yy],delete r[_y])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $d(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$d(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ic(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ua));else if(u!==4&&(t=t.child,t!==null))for(Ic(t,r,o),t=t.sibling;t!==null;)Ic(t,r,o),t=t.sibling}function Sc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Sc(t,r,o),t=t.sibling;t!==null;)Sc(t,r,o),t=t.sibling}var At=null,xn=!1;function Or(t,r,o){for(o=o.child;o!==null;)Hd(t,r,o),o=o.sibling}function Hd(t,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 5:Nt||Ss(o,r);case 6:var u=At,h=xn;At=null,Or(t,r,o),At=u,xn=h,At!==null&&(xn?(t=At,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):At.removeChild(o.stateNode));break;case 18:At!==null&&(xn?(t=At,o=o.stateNode,t.nodeType===8?Fu(t.parentNode,o):t.nodeType===1&&Fu(t,o),Rn(t)):Fu(At,o.stateNode));break;case 4:u=At,h=xn,At=o.stateNode.containerInfo,xn=!0,Or(t,r,o),At=u,xn=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&wc(o,r,_),h=h.next}while(h!==u)}Or(t,r,o);break;case 1:if(!Nt&&(Ss(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(T){rt(o,r,T)}Or(t,r,o);break;case 21:Or(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Or(t,r,o),Nt=u):Or(t,r,o);break;default:Or(t,r,o)}}function Wd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new My),r.forEach(function(u){var h=qy.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Vn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 5:At=T.stateNode,xn=!1;break e;case 3:At=T.stateNode.containerInfo,xn=!0;break e;case 4:At=T.stateNode.containerInfo,xn=!0;break e}T=T.return}if(At===null)throw Error(n(160));Hd(p,_,h),At=null,xn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(U){rt(h,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Qd(r,t),r=r.sibling}function Qd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),Wn(t),u&4){try{Fo(3,t,t.return),al(3,t)}catch(he){rt(t,t.return,he)}try{Fo(5,t,t.return)}catch(he){rt(t,t.return,he)}}break;case 1:Vn(r,t),Wn(t),u&512&&o!==null&&Ss(o,o.return);break;case 5:if(Vn(r,t),Wn(t),u&512&&o!==null&&Ss(o,o.return),t.flags&32){var h=t.stateNode;try{vr(h,"")}catch(he){rt(t,t.return,he)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,T=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&Qs(h,p),no(T,_);var U=no(T,p);for(_=0;_<P.length;_+=2){var K=P[_],Y=P[_+1];K==="style"?Zs(h,Y):K==="dangerouslySetInnerHTML"?Xs(h,Y):K==="children"?vr(h,Y):_e(h,K,Y,U)}switch(T){case"input":Gs(h,p);break;case"textarea":ji(h,p);break;case"select":var G=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?Zn(h,!!p.multiple,se,!1):G!==!!p.multiple&&(p.defaultValue!=null?Zn(h,!!p.multiple,p.defaultValue,!0):Zn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ro]=p}catch(he){rt(t,t.return,he)}}break;case 6:if(Vn(r,t),Wn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(he){rt(t,t.return,he)}}break;case 3:if(Vn(r,t),Wn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Rn(r.containerInfo)}catch(he){rt(t,t.return,he)}break;case 4:Vn(r,t),Wn(t);break;case 13:Vn(r,t),Wn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Cc=Qe())),u&4&&Wd(t);break;case 22:if(K=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(U=Nt)||K,Vn(r,t),Nt=U):Vn(r,t),Wn(t),u&8192){if(U=t.memoizedState!==null,(t.stateNode.isHidden=U)&&!K&&t.mode&1)for(ue=t,K=t.child;K!==null;){for(Y=ue=K;ue!==null;){switch(G=ue,se=G.child,G.tag){case 0:case 11:case 14:case 15:Fo(4,G,G.return);break;case 1:Ss(G,G.return);var ce=G.stateNode;if(typeof ce.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,ce.props=r.memoizedProps,ce.state=r.memoizedState,ce.componentWillUnmount()}catch(he){rt(u,o,he)}}break;case 5:Ss(G,G.return);break;case 22:if(G.memoizedState!==null){Yd(Y);continue}}se!==null?(se.return=G,ue=se):Yd(Y)}K=K.sibling}e:for(K=null,Y=t;;){if(Y.tag===5){if(K===null){K=Y;try{h=Y.stateNode,U?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=Y.stateNode,P=Y.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,T.style.display=Js("display",_))}catch(he){rt(t,t.return,he)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=U?"":Y.memoizedProps}catch(he){rt(t,t.return,he)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Vn(r,t),Wn(t),u&4&&Wd(t);break;case 21:break;default:Vn(r,t),Wn(t)}}function Wn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if($d(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(vr(h,""),u.flags&=-33);var p=qd(t);Sc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,T=qd(t);Ic(t,T,_);break;default:throw Error(n(161))}}catch(P){rt(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Oy(t,r,o){ue=t,Gd(t)}function Gd(t,r,o){for(var u=(t.mode&1)!==0;ue!==null;){var h=ue,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||ol;if(!_){var T=h.alternate,P=T!==null&&T.memoizedState!==null||Nt;T=ol;var U=Nt;if(ol=_,(Nt=P)&&!U)for(ue=h;ue!==null;)_=ue,P=_.child,_.tag===22&&_.memoizedState!==null?Xd(h):P!==null?(P.return=_,ue=P):Xd(h);for(;p!==null;)ue=p,Gd(p),p=p.sibling;ue=h,ol=T,Nt=U}Kd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,ue=p):Kd(t)}}function Kd(t){for(;ue!==null;){var r=ue;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||al(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Dn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Yf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Yf(r,_,o)}break;case 5:var T=r.stateNode;if(o===null&&r.flags&4){o=T;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var K=U.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&Rn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&Tc(r)}catch(G){rt(r,r.return,G)}}if(r===t){ue=null;break}if(o=r.sibling,o!==null){o.return=r.return,ue=o;break}ue=r.return}}function Yd(t){for(;ue!==null;){var r=ue;if(r===t){ue=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ue=o;break}ue=r.return}}function Xd(t){for(;ue!==null;){var r=ue;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{al(4,r)}catch(P){rt(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(P){rt(r,h,P)}}var p=r.return;try{Tc(r)}catch(P){rt(r,p,P)}break;case 5:var _=r.return;try{Tc(r)}catch(P){rt(r,_,P)}}}catch(P){rt(r,r.return,P)}if(r===t){ue=null;break}var T=r.sibling;if(T!==null){T.return=r.return,ue=T;break}ue=r.return}}var Fy=Math.ceil,ll=Re.ReactCurrentDispatcher,Ac=Re.ReactCurrentOwner,gn=Re.ReactCurrentBatchConfig,je=0,Et=null,lt=null,Rt=0,sn=0,As=xr(0),mt=0,Uo=null,Ri=0,ul=0,Rc=0,zo=null,Wt=null,Cc=0,Rs=1/0,pr=null,cl=!1,Pc=null,Fr=null,hl=!1,Ur=null,fl=0,jo=0,kc=null,dl=-1,pl=0;function jt(){return je&6?Qe():dl!==-1?dl:dl=Qe()}function zr(t){return t.mode&1?je&2&&Rt!==0?Rt&-Rt:Ey.transition!==null?(pl===0&&(pl=pi()),pl):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:po(t.type)),t):1}function Nn(t,r,o,u){if(50<jo)throw jo=0,kc=null,Error(n(185));Ir(t,o,u),(!(je&2)||t!==Et)&&(t===Et&&(!(je&2)&&(ul|=o),mt===4&&jr(t,Rt)),Qt(t,u),o===1&&je===0&&!(r.mode&1)&&(Rs=Qe()+500,ba&&Nr()))}function Qt(t,r){var o=t.callbackNode;nr(t,r);var u=di(t,t===Et?Rt:0);if(u===0)o!==null&&lo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&lo(o),r===1)t.tag===0?vy(Zd.bind(null,t)):Uf(Zd.bind(null,t)),my(function(){!(je&6)&&Nr()}),o=null;else{switch(Ar(u)){case 1:o=hi;break;case 4:o=Er;break;case 16:o=un;break;case 536870912:o=pa;break;default:o=un}o=ap(o,Jd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Jd(t,r){if(dl=-1,pl=0,je&6)throw Error(n(327));var o=t.callbackNode;if(Cs()&&t.callbackNode!==o)return null;var u=di(t,t===Et?Rt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=ml(t,u);else{r=u;var h=je;je|=2;var p=tp();(Et!==t||Rt!==r)&&(pr=null,Rs=Qe()+500,Pi(t,r));do try{jy();break}catch(T){ep(t,T)}while(!0);Qu(),ll.current=p,je=h,lt!==null?r=0:(Et=null,Rt=0,r=mt)}if(r!==0){if(r===2&&(h=Zt(t),h!==0&&(u=h,r=Dc(t,h))),r===1)throw o=Uo,Pi(t,0),jr(t,u),Qt(t,Qe()),o;if(r===6)jr(t,u);else{if(h=t.current.alternate,!(u&30)&&!Uy(h)&&(r=ml(t,u),r===2&&(p=Zt(t),p!==0&&(u=p,r=Dc(t,p))),r===1))throw o=Uo,Pi(t,0),jr(t,u),Qt(t,Qe()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:ki(t,Wt,pr);break;case 3:if(jr(t,u),(u&130023424)===u&&(r=Cc+500-Qe(),10<r)){if(di(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){jt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Ou(ki.bind(null,t,Wt,pr),r);break}ki(t,Wt,pr);break;case 4:if(jr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Ft(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=Qe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Fy(u/1960))-u,10<u){t.timeoutHandle=Ou(ki.bind(null,t,Wt,pr),u);break}ki(t,Wt,pr);break;case 5:ki(t,Wt,pr);break;default:throw Error(n(329))}}}return Qt(t,Qe()),t.callbackNode===o?Jd.bind(null,t):null}function Dc(t,r){var o=zo;return t.current.memoizedState.isDehydrated&&(Pi(t,r).flags|=256),t=ml(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&xc(r)),t}function xc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function Uy(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Pn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r){for(r&=~Rc,r&=~ul,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ft(r),u=1<<o;t[o]=-1,r&=~u}}function Zd(t){if(je&6)throw Error(n(327));Cs();var r=di(t,0);if(!(r&1))return Qt(t,Qe()),null;var o=ml(t,r);if(t.tag!==0&&o===2){var u=Zt(t);u!==0&&(r=u,o=Dc(t,u))}if(o===1)throw o=Uo,Pi(t,0),jr(t,r),Qt(t,Qe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ki(t,Wt,pr),Qt(t,Qe()),null}function Vc(t,r){var o=je;je|=1;try{return t(r)}finally{je=o,je===0&&(Rs=Qe()+500,ba&&Nr())}}function Ci(t){Ur!==null&&Ur.tag===0&&!(je&6)&&Cs();var r=je;je|=1;var o=gn.transition,u=Ne;try{if(gn.transition=null,Ne=1,t)return t()}finally{Ne=u,gn.transition=o,je=r,!(je&6)&&Nr()}}function Nc(){sn=As.current,Ye(As)}function Pi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,py(o)),lt!==null)for(o=lt.return;o!==null;){var u=o;switch(bu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ja();break;case 3:Ts(),Ye($t),Ye(Dt),tc();break;case 5:Zu(u);break;case 4:Ts();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:Gu(u.type._context);break;case 22:case 23:Nc()}o=o.return}if(Et=t,lt=t=Br(t.current,null),Rt=sn=r,mt=0,Uo=null,Rc=ul=Ri=0,Wt=zo=null,Ii!==null){for(r=0;r<Ii.length;r++)if(o=Ii[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}Ii=null}return t}function ep(t,r){do{var o=lt;try{if(Qu(),Ja.current=nl,Za){for(var u=tt.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Za=!1}if(Ai=0,vt=pt=tt=null,Vo=!1,No=0,Ac.current=null,o===null||o.return===null){mt=1,Uo=r,lt=null;break}e:{var p=t,_=o.return,T=o,P=r;if(r=Rt,T.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var U=P,K=T,Y=K.tag;if(!(K.mode&1)&&(Y===0||Y===11||Y===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var se=Ad(_);if(se!==null){se.flags&=-257,Rd(se,_,T,p,r),se.mode&1&&Sd(p,U,r),r=se,P=U;var ce=r.updateQueue;if(ce===null){var he=new Set;he.add(P),r.updateQueue=he}else ce.add(P);break e}else{if(!(r&1)){Sd(p,U,r),Mc();break e}P=Error(n(426))}}else if(Ze&&T.mode&1){var st=Ad(_);if(st!==null){!(st.flags&65536)&&(st.flags|=256),Rd(st,_,T,p,r),Hu(Is(P,T));break e}}p=P=Is(P,T),mt!==4&&(mt=2),zo===null?zo=[p]:zo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var L=Td(p,P,r);Kf(p,L);break e;case 1:T=P;var x=p.type,F=p.stateNode;if(!(p.flags&128)&&(typeof x.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Fr===null||!Fr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Id(p,T,r);Kf(p,Z);break e}}p=p.return}while(p!==null)}rp(o)}catch(fe){r=fe,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function tp(){var t=ll.current;return ll.current=nl,t===null?nl:t}function Mc(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(Ri&268435455)&&!(ul&268435455)||jr(Et,Rt)}function ml(t,r){var o=je;je|=2;var u=tp();(Et!==t||Rt!==r)&&(pr=null,Pi(t,r));do try{zy();break}catch(h){ep(t,h)}while(!0);if(Qu(),je=o,ll.current=u,lt!==null)throw Error(n(261));return Et=null,Rt=0,mt}function zy(){for(;lt!==null;)np(lt)}function jy(){for(;lt!==null&&!fa();)np(lt)}function np(t){var r=op(t.alternate,t,sn);t.memoizedProps=t.pendingProps,r===null?rp(t):lt=r,Ac.current=null}function rp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Ny(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,lt=null;return}}else if(o=Vy(o,r,sn),o!==null){lt=o;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);mt===0&&(mt=5)}function ki(t,r,o){var u=Ne,h=gn.transition;try{gn.transition=null,Ne=1,By(t,r,o,u)}finally{gn.transition=h,Ne=u}return null}function By(t,r,o,u){do Cs();while(Ur!==null);if(je&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(We(t,p),t===Et&&(lt=Et=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||hl||(hl=!0,ap(un,function(){return Cs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=gn.transition,gn.transition=null;var _=Ne;Ne=1;var T=je;je|=4,Ac.current=null,Ly(t,o),Qd(o,t),ay(Mu),Cr=!!Nu,Mu=Nu=null,t.current=o,Oy(o),yu(),je=T,Ne=_,gn.transition=p}else t.current=o;if(hl&&(hl=!1,Ur=t,fl=h),p=t.pendingLanes,p===0&&(Fr=null),ma(o.stateNode),Qt(t,Qe()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(cl)throw cl=!1,t=Pc,Pc=null,t;return fl&1&&t.tag!==0&&Cs(),p=t.pendingLanes,p&1?t===kc?jo++:(jo=0,kc=t):jo=0,Nr(),null}function Cs(){if(Ur!==null){var t=Ar(fl),r=gn.transition,o=Ne;try{if(gn.transition=null,Ne=16>t?16:t,Ur===null)var u=!1;else{if(t=Ur,Ur=null,fl=0,je&6)throw Error(n(331));var h=je;for(je|=4,ue=t.current;ue!==null;){var p=ue,_=p.child;if(ue.flags&16){var T=p.deletions;if(T!==null){for(var P=0;P<T.length;P++){var U=T[P];for(ue=U;ue!==null;){var K=ue;switch(K.tag){case 0:case 11:case 15:Fo(8,K,p)}var Y=K.child;if(Y!==null)Y.return=K,ue=Y;else for(;ue!==null;){K=ue;var G=K.sibling,se=K.return;if(bd(K),K===U){ue=null;break}if(G!==null){G.return=se,ue=G;break}ue=se}}}var ce=p.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var st=he.sibling;he.sibling=null,he=st}while(he!==null)}}ue=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,ue=_;else e:for(;ue!==null;){if(p=ue,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Fo(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,ue=L;break e}ue=p.return}}var x=t.current;for(ue=x;ue!==null;){_=ue;var F=_.child;if(_.subtreeFlags&2064&&F!==null)F.return=_,ue=F;else e:for(_=x;ue!==null;){if(T=ue,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:al(9,T)}}catch(fe){rt(T,T.return,fe)}if(T===_){ue=null;break e}var Z=T.sibling;if(Z!==null){Z.return=T.return,ue=Z;break e}ue=T.return}}if(je=h,Nr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(fi,t)}catch{}u=!0}return u}finally{Ne=o,gn.transition=r}}return!1}function ip(t,r,o){r=Is(o,r),r=Td(t,r,1),t=Lr(t,r,1),r=jt(),t!==null&&(Ir(t,1,r),Qt(t,r))}function rt(t,r,o){if(t.tag===3)ip(t,t,o);else for(;r!==null;){if(r.tag===3){ip(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Fr===null||!Fr.has(u))){t=Is(o,t),t=Id(r,t,1),r=Lr(r,t,1),t=jt(),r!==null&&(Ir(r,1,t),Qt(r,t));break}}r=r.return}}function by(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=jt(),t.pingedLanes|=t.suspendedLanes&o,Et===t&&(Rt&o)===o&&(mt===4||mt===3&&(Rt&130023424)===Rt&&500>Qe()-Cc?Pi(t,0):Rc|=o),Qt(t,r)}function sp(t,r){r===0&&(t.mode&1?(r=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):r=1);var o=jt();t=hr(t,r),t!==null&&(Ir(t,r,o),Qt(t,o))}function $y(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),sp(t,o)}function qy(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),sp(t,o)}var op;op=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)Ht=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Ht=!1,xy(t,r,o);Ht=!!(t.flags&131072)}else Ht=!1,Ze&&r.flags&1048576&&zf(r,qa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;sl(t,r),t=r.pendingProps;var h=ms(r,Dt.current);ws(r,o),h=ic(null,r,u,t,h,o);var p=sc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,Ba(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Xu(r),h.updater=rl,r.stateNode=h,h._reactInternals=r,hc(r,u,t,o),r=mc(null,r,u,!0,p,o)):(r.tag=0,Ze&&p&&Bu(r),zt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(sl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Wy(u),t=Dn(u,t),h){case 0:r=pc(null,r,u,t,o);break e;case 1:r=Vd(null,r,u,t,o);break e;case 11:r=Cd(null,r,u,t,o);break e;case 14:r=Pd(null,r,u,Dn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),pc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),Vd(t,r,u,h,o);case 3:e:{if(Nd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Gf(t,r),Ya(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Is(Error(n(423)),r),r=Md(t,r,u,o,h);break e}else if(u!==h){h=Is(Error(n(424)),r),r=Md(t,r,u,o,h);break e}else for(rn=Dr(r.stateNode.containerInfo.firstChild),nn=r,Ze=!0,kn=null,o=Wf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(_s(),u===h){r=dr(t,r,o);break e}zt(t,r,u,o)}r=r.child}return r;case 5:return Xf(r),t===null&&qu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Lu(u,h)?_=null:p!==null&&Lu(u,p)&&(r.flags|=32),xd(t,r),zt(t,r,_,o),r.child;case 6:return t===null&&qu(r),null;case 13:return Ld(t,r,o);case 4:return Ju(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=vs(r,null,u,o):zt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),Cd(t,r,u,h,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,Ge(Qa,u._currentValue),u._currentValue=_,p!==null)if(Pn(p.value,_)){if(p.children===h.children&&!$t.current){r=dr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var T=p.dependencies;if(T!==null){_=p.child;for(var P=T.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=fr(-1,o&-o),P.tag=2;var U=p.updateQueue;if(U!==null){U=U.shared;var K=U.pending;K===null?P.next=P:(P.next=K.next,K.next=P),U.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),Ku(p.return,o,r),T.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,T=_.alternate,T!==null&&(T.lanes|=o),Ku(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}zt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,ws(r,o),h=pn(h),u=u(h),r.flags|=1,zt(t,r,u,o),r.child;case 14:return u=r.type,h=Dn(u,r.pendingProps),h=Dn(u.type,h),Pd(t,r,u,h,o);case 15:return kd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Dn(u,h),sl(t,r),r.tag=1,qt(u)?(t=!0,Ba(r)):t=!1,ws(r,o),Ed(r,u,h),hc(r,u,h,o),mc(null,r,u,!0,t,o);case 19:return Fd(t,r,o);case 22:return Dd(t,r,o)}throw Error(n(156,r.tag))};function ap(t,r){return Gi(t,r)}function Hy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,o,u){return new Hy(t,r,o,u)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wy(t){if(typeof t=="function")return Lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N)return 11;if(t===re)return 14}return 2}function Br(t,r){var o=t.alternate;return o===null?(o=yn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function gl(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Lc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case V:return Di(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=yn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=yn(13,o,r,h),t.elementType=S,t.lanes=p,t;case le:return t=yn(19,o,r,h),t.elementType=le,t.lanes=p,t;case ne:return yl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:_=10;break e;case C:_=9;break e;case N:_=11;break e;case re:_=14;break e;case ee:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Di(t,r,o,u){return t=yn(7,t,u,r),t.lanes=o,t}function yl(t,r,o,u){return t=yn(22,t,u,r),t.elementType=ne,t.lanes=o,t.stateNode={isHidden:!1},t}function Oc(t,r,o){return t=yn(6,t,null,r),t.lanes=o,t}function Fc(t,r,o){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Qy(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tr(0),this.expirationTimes=Tr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Uc(t,r,o,u,h,p,_,T,P){return t=new Qy(t,r,o,T,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=yn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xu(p),t}function Gy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function lp(t){if(!t)return Vr;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return Of(t,o,r)}return r}function up(t,r,o,u,h,p,_,T,P){return t=Uc(o,u,!0,t,h,p,_,T,P),t.context=lp(null),o=t.current,u=jt(),h=zr(o),p=fr(u,h),p.callback=r??null,Lr(o,p,h),t.current.lanes=h,Ir(t,h,u),Qt(t,u),t}function _l(t,r,o,u){var h=r.current,p=jt(),_=zr(h);return o=lp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Lr(h,r,_),t!==null&&(Nn(t,h,_,p),Ka(t,h,_)),_}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function zc(t,r){cp(t,r),(t=t.alternate)&&cp(t,r)}var hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function jc(t){this._internalRoot=t}El.prototype.render=jc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));_l(t,r,null,null)},El.prototype.unmount=jc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ci(function(){_l(null,t,null,null)}),r[ar]=null}};function El(t){this._internalRoot=t}El.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ea();t={blockedOn:null,target:t,priority:r};for(var o=0;o<zn.length&&r!==0&&r<zn[o].priority;o++);zn.splice(o,0,t),o===0&&Ia(t)}};function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fp(){}function Ky(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var U=vl(_);p.call(U)}}var _=up(r,u,t,0,null,!1,!1,"",fp);return t._reactRootContainer=_,t[ar]=_.current,So(t.nodeType===8?t.parentNode:t),Ci(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var T=u;u=function(){var U=vl(P);T.call(U)}}var P=Uc(t,0,!1,null,null,!1,!1,"",fp);return t._reactRootContainer=P,t[ar]=P.current,So(t.nodeType===8?t.parentNode:t),Ci(function(){_l(r,P,o,u)}),P}function Tl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var T=h;h=function(){var P=vl(_);T.call(P)}}_l(r,_,t,h)}else _=Ky(o,r,t,h,u);return vl(_)}_a=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=wr(r.pendingLanes);o!==0&&(Sr(r,o|1),Qt(r,Qe()),!(je&6)&&(Rs=Qe()+500,Nr()))}break;case 13:Ci(function(){var u=hr(t,1);if(u!==null){var h=jt();Nn(u,t,1,h)}}),zc(t,1)}},Xi=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=jt();Nn(r,t,134217728,o)}zc(t,134217728)}},va=function(t){if(t.tag===13){var r=zr(t),o=hr(t,r);if(o!==null){var u=jt();Nn(o,t,r,u)}zc(t,r)}},Ea=function(){return Ne},wa=function(t,r){var o=Ne;try{return Ne=t,r()}finally{Ne=o}},bi=function(t,r,o){switch(r){case"input":if(Gs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=za(u);if(!h)throw Error(n(90));an(u),Gs(u,h)}}}break;case"textarea":ji(t,o);break;case"select":r=o.value,r!=null&&Zn(t,!!o.multiple,r,!1)}},ai=Vc,io=Ci;var Yy={usingClientEntryPoint:!1,Events:[Co,ds,za,Fn,ro,Vc]},Bo={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xy={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Re.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ao(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{fi=Il.inject(Xy),Jt=Il}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bc(r))throw Error(n(200));return Gy(t,r,null,o)},Gt.createRoot=function(t,r){if(!Bc(t))throw Error(n(299));var o=!1,u="",h=hp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Uc(t,1,!1,null,null,o,!1,u,h),t[ar]=r.current,So(t.nodeType===8?t.parentNode:t),new jc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ao(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Ci(t)},Gt.hydrate=function(t,r,o){if(!wl(r))throw Error(n(200));return Tl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Bc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=hp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=up(r,null,t,1,o??null,h,!1,p,_),t[ar]=r.current,So(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new El(r)},Gt.render=function(t,r,o){if(!wl(r))throw Error(n(200));return Tl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!wl(t))throw Error(n(40));return t._reactRootContainer?(Ci(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1},Gt.unstable_batchedUpdates=Vc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!wl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Tl(t,r,o,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Ep;function o_(){if(Ep)return qc.exports;Ep=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qc.exports=s_(),qc.exports}var wp;function a_(){if(wp)return Sl;wp=1;var i=o_();return Sl.createRoot=i.createRoot,Sl.hydrateRoot=i.hydrateRoot,Sl}var l_=a_();function u_(){return ye.jsxs("div",{className:"mt-10 flex flex-col gap-5 items-center justify-center text-white px-4 sm:px-8 md:px-16",children:[ye.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-center",children:"Your Next Career Move Starts Here!"}),ye.jsx("p",{className:"text-lg sm:text-xl text-center",children:"Get the latest job openings that suit you."})]})}var Nl={exports:{}},c_=Nl.exports,Tp;function h_(){return Tp||(Tp=1,function(i,e){(function(n,s){i.exports=s()})(c_,function(){var n=1e3,s=6e4,a=36e5,c="millisecond",f="second",m="minute",y="hour",v="day",w="week",D="month",O="quarter",b="year",W="date",J="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Se=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ee={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(le){var re=["th","st","nd","rd"],ee=le%100;return"["+le+(re[(ee-20)%10]||re[ee]||re[0])+"]"}},_e=function(le,re,ee){var ne=String(le);return!ne||ne.length>=re?le:""+Array(re+1-ne.length).join(ee)+le},Re={s:_e,z:function(le){var re=-le.utcOffset(),ee=Math.abs(re),ne=Math.floor(ee/60),z=ee%60;return(re<=0?"+":"-")+_e(ne,2,"0")+":"+_e(z,2,"0")},m:function le(re,ee){if(re.date()<ee.date())return-le(ee,re);var ne=12*(ee.year()-re.year())+(ee.month()-re.month()),z=re.clone().add(ne,D),X=ee-z<0,Q=re.clone().add(ne+(X?-1:1),D);return+(-(ne+(ee-z)/(X?z-Q:Q-z))||0)},a:function(le){return le<0?Math.ceil(le)||0:Math.floor(le)},p:function(le){return{M:D,y:b,w,d:v,D:W,h:y,m,s:f,ms:c,Q:O}[le]||String(le||"").toLowerCase().replace(/s$/,"")},u:function(le){return le===void 0}},He="en",Ce={};Ce[He]=Ee;var V="$isDayjsObject",I=function(le){return le instanceof N||!(!le||!le[V])},A=function le(re,ee,ne){var z;if(!re)return He;if(typeof re=="string"){var X=re.toLowerCase();Ce[X]&&(z=X),ee&&(Ce[X]=ee,z=X);var Q=re.split("-");if(!z&&Q.length>1)return le(Q[0])}else{var k=re.name;Ce[k]=re,z=k}return!ne&&z&&(He=z),z||!ne&&He},R=function(le,re){if(I(le))return le.clone();var ee=typeof re=="object"?re:{};return ee.date=le,ee.args=arguments,new N(ee)},C=Re;C.l=A,C.i=I,C.w=function(le,re){return R(le,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var N=function(){function le(ee){this.$L=A(ee.locale,null,!0),this.parse(ee),this.$x=this.$x||ee.x||{},this[V]=!0}var re=le.prototype;return re.parse=function(ee){this.$d=function(ne){var z=ne.date,X=ne.utc;if(z===null)return new Date(NaN);if(C.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var Q=z.match($);if(Q){var k=Q[2]-1||0,B=(Q[7]||"0").substring(0,3);return X?new Date(Date.UTC(Q[1],k,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,B)):new Date(Q[1],k,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,B)}}return new Date(z)}(ee),this.init()},re.init=function(){var ee=this.$d;this.$y=ee.getFullYear(),this.$M=ee.getMonth(),this.$D=ee.getDate(),this.$W=ee.getDay(),this.$H=ee.getHours(),this.$m=ee.getMinutes(),this.$s=ee.getSeconds(),this.$ms=ee.getMilliseconds()},re.$utils=function(){return C},re.isValid=function(){return this.$d.toString()!==J},re.isSame=function(ee,ne){var z=R(ee);return this.startOf(ne)<=z&&z<=this.endOf(ne)},re.isAfter=function(ee,ne){return R(ee)<this.startOf(ne)},re.isBefore=function(ee,ne){return this.endOf(ne)<R(ee)},re.$g=function(ee,ne,z){return C.u(ee)?this[ne]:this.set(z,ee)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(ee,ne){var z=this,X=!!C.u(ne)||ne,Q=C.p(ee),k=function(Le,ze){var yt=C.w(z.$u?Date.UTC(z.$y,ze,Le):new Date(z.$y,ze,Le),z);return X?yt:yt.endOf(v)},B=function(Le,ze){return C.w(z.toDate()[Le].apply(z.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(ze)),z)},ie=this.$W,de=this.$M,ve=this.$D,Pe="set"+(this.$u?"UTC":"");switch(Q){case b:return X?k(1,0):k(31,11);case D:return X?k(1,de):k(0,de+1);case w:var ke=this.$locale().weekStart||0,xe=(ie<ke?ie+7:ie)-ke;return k(X?ve-xe:ve+(6-xe),de);case v:case W:return B(Pe+"Hours",0);case y:return B(Pe+"Minutes",1);case m:return B(Pe+"Seconds",2);case f:return B(Pe+"Milliseconds",3);default:return this.clone()}},re.endOf=function(ee){return this.startOf(ee,!1)},re.$set=function(ee,ne){var z,X=C.p(ee),Q="set"+(this.$u?"UTC":""),k=(z={},z[v]=Q+"Date",z[W]=Q+"Date",z[D]=Q+"Month",z[b]=Q+"FullYear",z[y]=Q+"Hours",z[m]=Q+"Minutes",z[f]=Q+"Seconds",z[c]=Q+"Milliseconds",z)[X],B=X===v?this.$D+(ne-this.$W):ne;if(X===D||X===b){var ie=this.clone().set(W,1);ie.$d[k](B),ie.init(),this.$d=ie.set(W,Math.min(this.$D,ie.daysInMonth())).$d}else k&&this.$d[k](B);return this.init(),this},re.set=function(ee,ne){return this.clone().$set(ee,ne)},re.get=function(ee){return this[C.p(ee)]()},re.add=function(ee,ne){var z,X=this;ee=Number(ee);var Q=C.p(ne),k=function(de){var ve=R(X);return C.w(ve.date(ve.date()+Math.round(de*ee)),X)};if(Q===D)return this.set(D,this.$M+ee);if(Q===b)return this.set(b,this.$y+ee);if(Q===v)return k(1);if(Q===w)return k(7);var B=(z={},z[m]=s,z[y]=a,z[f]=n,z)[Q]||1,ie=this.$d.getTime()+ee*B;return C.w(ie,this)},re.subtract=function(ee,ne){return this.add(-1*ee,ne)},re.format=function(ee){var ne=this,z=this.$locale();if(!this.isValid())return z.invalidDate||J;var X=ee||"YYYY-MM-DDTHH:mm:ssZ",Q=C.z(this),k=this.$H,B=this.$m,ie=this.$M,de=z.weekdays,ve=z.months,Pe=z.meridiem,ke=function(ze,yt,an,Xt){return ze&&(ze[yt]||ze(ne,X))||an[yt].slice(0,Xt)},xe=function(ze){return C.s(k%12||12,ze,"0")},Le=Pe||function(ze,yt,an){var Xt=ze<12?"AM":"PM";return an?Xt.toLowerCase():Xt};return X.replace(Se,function(ze,yt){return yt||function(an){switch(an){case"YY":return String(ne.$y).slice(-2);case"YYYY":return C.s(ne.$y,4,"0");case"M":return ie+1;case"MM":return C.s(ie+1,2,"0");case"MMM":return ke(z.monthsShort,ie,ve,3);case"MMMM":return ke(ve,ie);case"D":return ne.$D;case"DD":return C.s(ne.$D,2,"0");case"d":return String(ne.$W);case"dd":return ke(z.weekdaysMin,ne.$W,de,2);case"ddd":return ke(z.weekdaysShort,ne.$W,de,3);case"dddd":return de[ne.$W];case"H":return String(k);case"HH":return C.s(k,2,"0");case"h":return xe(1);case"hh":return xe(2);case"a":return Le(k,B,!0);case"A":return Le(k,B,!1);case"m":return String(B);case"mm":return C.s(B,2,"0");case"s":return String(ne.$s);case"ss":return C.s(ne.$s,2,"0");case"SSS":return C.s(ne.$ms,3,"0");case"Z":return Q}return null}(ze)||Q.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(ee,ne,z){var X,Q=this,k=C.p(ne),B=R(ee),ie=(B.utcOffset()-this.utcOffset())*s,de=this-B,ve=function(){return C.m(Q,B)};switch(k){case b:X=ve()/12;break;case D:X=ve();break;case O:X=ve()/3;break;case w:X=(de-ie)/6048e5;break;case v:X=(de-ie)/864e5;break;case y:X=de/a;break;case m:X=de/s;break;case f:X=de/n;break;default:X=de}return z?X:C.a(X)},re.daysInMonth=function(){return this.endOf(D).$D},re.$locale=function(){return Ce[this.$L]},re.locale=function(ee,ne){if(!ee)return this.$L;var z=this.clone(),X=A(ee,ne,!0);return X&&(z.$L=X),z},re.clone=function(){return C.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},le}(),S=N.prototype;return R.prototype=S,[["$ms",c],["$s",f],["$m",m],["$H",y],["$W",v],["$M",D],["$y",b],["$D",W]].forEach(function(le){S[le[1]]=function(re){return this.$g(re,le[0],le[1])}}),R.extend=function(le,re){return le.$i||(le(re,N,R),le.$i=!0),R},R.locale=A,R.isDayjs=I,R.unix=function(le){return R(1e3*le)},R.en=Ce[He],R.Ls=Ce,R.p={},R})}(Nl)),Nl.exports}var f_=h_();const d_=Zy(f_);function p_(i){const n=d_(Date.now()).diff(i.postedOn,"day");return ye.jsx("div",{className:"mx-4 mb-4 sm:mx-8 md:mx-16 lg:mx-40",children:ye.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-6 py-4 bg-zinc-300 rounded-md border border-black shadow-lg hover:border-blue-500 hover:translate-y-1 hover:scale-103",children:[ye.jsxs("div",{className:"flex flex-col items-start gap-3 mb-4 sm:mb-0",children:[ye.jsxs("h1",{className:"text-lg font-semibold",children:[i.title," - ",i.company]}),ye.jsxs("p",{className:"text-sm sm:text-base",children:[i.type," • ",i.experience," • ",i.location]}),ye.jsx("div",{className:"flex flex-wrap items-center gap-2",children:i.skills.map((s,a)=>ye.jsx("p",{className:"text-gray-500 py-1 px-2 rounded-md border border-black text-xs sm:text-sm",children:s},a))})]}),ye.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-8",children:[ye.jsxs("p",{className:"text-gray-500 text-sm",children:["Posted ",n>1?`${n} days`:`${n} day`," ago"]}),ye.jsx("a",{href:i.job_link,children:ye.jsx("button",{className:"text-blue-500 border border-blue-500 px-6 py-2 rounded-md text-sm sm:text-base",children:"Apply"})})]})]})})}function m_(){return ye.jsx("div",{className:"h-20 flex items-center w-full text-white px-4 sm:px-8 md:px-16",children:ye.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold pl-4 sm:pl-8",children:"HireHub"})})}function g_(i){const[e,n]=mr.useState({title:"",type:"",location:"",experience:""}),s=c=>{const{name:f,value:m}=c.target;n(y=>({...y,[f]:m})),console.log({...e,[f]:m})},a=async()=>{console.log(e),await i.fetchCustomJobs(e)};return mr.useEffect(()=>{n({title:"",type:"",location:"",experience:""})},[i.resetSearchBar]),ye.jsxs("div",{className:"flex flex-wrap gap-4 my-10 justify-center px-4 sm:px-8 md:px-16",children:[ye.jsxs("select",{onChange:s,name:"title",value:e.title,className:"w-full sm:w-64 py-3 pl-4 bg-zinc-200 font-semibold rounded-md",children:[ye.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Job Role"}),ye.jsx("option",{value:"Android Developer",children:"Android Developer"}),ye.jsx("option",{value:"Frontend Developer",children:"Frontend Developer"}),ye.jsx("option",{value:"Backend Developer",children:"Backend Developer"}),ye.jsx("option",{value:"iOS Developer",children:"iOS Developer"}),ye.jsx("option",{value:"Mobile Developer",children:"Mobile Developer"})]}),ye.jsxs("select",{onChange:s,name:"type",value:e.type,className:"w-full sm:w-64 py-3 pl-4 bg-zinc-200 font-semibold rounded-md",children:[ye.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Job Type"}),ye.jsx("option",{value:"Full Time",children:"Full Time"}),ye.jsx("option",{value:"Part Time",children:"Part Time"}),ye.jsx("option",{value:"Contract",children:"Contract"})]}),ye.jsxs("select",{onChange:s,name:"location",value:e.location,className:"w-full sm:w-64 py-3 pl-4 bg-zinc-200 font-semibold rounded-md",children:[ye.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Location"}),ye.jsx("option",{value:"Remote",children:"Remote"}),ye.jsx("option",{value:"In-Office",children:"In-Office"}),ye.jsx("option",{value:"Hybrid",children:"Hybrid"})]}),ye.jsxs("select",{onChange:s,name:"experience",value:e.experience,className:"w-full sm:w-64 py-3 pl-4 bg-zinc-200 font-semibold rounded-md",children:[ye.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Experience"}),ye.jsx("option",{value:"Fresher",children:"Fresher"}),ye.jsx("option",{value:"Entry Level",children:"Entry Level"}),ye.jsx("option",{value:"Mid Level",children:"Mid Level"}),ye.jsx("option",{value:"Senior Level",children:"Senior Level"})]}),ye.jsx("button",{onClick:a,className:"w-full sm:w-64 bg-blue-500 text-white font-bold py-3 rounded-md",children:"Search"})]})}var Ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},y_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Sm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,D=(c&3)<<4|m>>4;let O=(m&15)<<2|v>>6,b=v&63;y||(b=64,f||(O=64)),s.push(n[w],n[D],n[O],n[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Im(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):y_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const D=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||D==null)throw new __;const O=c<<2|m>>4;if(s.push(O),v!==64){const b=m<<4&240|v>>2;if(s.push(b),D!==64){const W=v<<6&192|D;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class __ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v_=function(i){const e=Im(i);return Sm.encodeByteArray(e,!0)},jl=function(i){return v_(i).replace(/\./g,"")},E_=function(i){try{return Sm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=()=>w_().__FIREBASE_DEFAULTS__,I_=()=>{if(typeof process>"u"||typeof Ip>"u")return;const i=Ip.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},S_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&E_(i[1]);return e&&JSON.parse(e)},Rh=()=>{try{return T_()||I_()||S_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},A_=i=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},R_=i=>{const e=A_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Am=()=>{var i;return(i=Rh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jl(JSON.stringify(n)),jl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D_(){var i;const e=(i=Rh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x_(){return!D_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V_(){try{return typeof indexedDB=="object"}catch{return!1}}function N_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="FirebaseError";class Bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=M_,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rm.prototype.create)}}class Rm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?L_(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Bs(a,m,s)}}function L_(i,e){return i.replace(O_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const O_=/\{\$([^}]+)}/g;function rh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Sp(c)&&Sp(f)){if(!rh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Sp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i){return i&&i._delegate?i._delegate:i}class Yo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new C_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z_(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U_(i){return i===xi?void 0:i}function z_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const B_={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},b_=Ue.INFO,$_={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},q_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=$_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=b_,this._logHandler=q_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const H_=(i,e)=>e.some(n=>i instanceof n);let Ap,Rp;function W_(){return Ap||(Ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q_(){return Rp||(Rp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pm=new WeakMap,ih=new WeakMap,km=new WeakMap,Qc=new WeakMap,Ch=new WeakMap;function G_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Hr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Pm.set(n,i)}).catch(()=>{}),Ch.set(e,i),e}function K_(i){if(ih.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});ih.set(i,e)}let sh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ih.get(i);if(e==="objectStoreNames")return i.objectStoreNames||km.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Y_(i){sh=i(sh)}function X_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Gc(this),e,...n);return km.set(s,e.sort?e.sort():[e]),Hr(s)}:Q_().includes(i)?function(...e){return i.apply(Gc(this),e),Hr(Pm.get(this))}:function(...e){return Hr(i.apply(Gc(this),e))}}function J_(i){return typeof i=="function"?X_(i):(i instanceof IDBTransaction&&K_(i),H_(i,W_())?new Proxy(i,sh):i)}function Hr(i){if(i instanceof IDBRequest)return G_(i);if(Qc.has(i))return Qc.get(i);const e=J_(i);return e!==i&&(Qc.set(i,e),Ch.set(e,i)),e}const Gc=i=>Ch.get(i);function Z_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Hr(f.result),y.oldVersion,y.newVersion,Hr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const ev=["get","getKey","getAll","getAllKeys","count"],tv=["put","add","delete","clear"],Kc=new Map;function Cp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Kc.get(e))return Kc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=tv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||ev.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return Kc.set(e,c),c}Y_(i=>({...i,get:(e,n,s)=>Cp(e,n)||i.get(e,n,s),has:(e,n)=>!!Cp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oh="@firebase/app",Pp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Cm("@firebase/app"),iv="@firebase/app-compat",sv="@firebase/analytics-compat",ov="@firebase/analytics",av="@firebase/app-check-compat",lv="@firebase/app-check",uv="@firebase/auth",cv="@firebase/auth-compat",hv="@firebase/database",fv="@firebase/data-connect",dv="@firebase/database-compat",pv="@firebase/functions",mv="@firebase/functions-compat",gv="@firebase/installations",yv="@firebase/installations-compat",_v="@firebase/messaging",vv="@firebase/messaging-compat",Ev="@firebase/performance",wv="@firebase/performance-compat",Tv="@firebase/remote-config",Iv="@firebase/remote-config-compat",Sv="@firebase/storage",Av="@firebase/storage-compat",Rv="@firebase/firestore",Cv="@firebase/vertexai",Pv="@firebase/firestore-compat",kv="firebase",Dv="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="[DEFAULT]",xv={[oh]:"fire-core",[iv]:"fire-core-compat",[ov]:"fire-analytics",[sv]:"fire-analytics-compat",[lv]:"fire-app-check",[av]:"fire-app-check-compat",[uv]:"fire-auth",[cv]:"fire-auth-compat",[hv]:"fire-rtdb",[fv]:"fire-data-connect",[dv]:"fire-rtdb-compat",[pv]:"fire-fn",[mv]:"fire-fn-compat",[gv]:"fire-iid",[yv]:"fire-iid-compat",[_v]:"fire-fcm",[vv]:"fire-fcm-compat",[Ev]:"fire-perf",[wv]:"fire-perf-compat",[Tv]:"fire-rc",[Iv]:"fire-rc-compat",[Sv]:"fire-gcs",[Av]:"fire-gcs-compat",[Rv]:"fire-fst",[Pv]:"fire-fst-compat",[Cv]:"fire-vertex","fire-js":"fire-js",[kv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new Map,Vv=new Map,lh=new Map;function kp(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bl(i){const e=i.name;if(lh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;lh.set(e,i);for(const n of Bl.values())kp(n,i);for(const n of Vv.values())kp(n,i);return!0}function Nv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Rm("app","Firebase",Mv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=Dv;function Dm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ah,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Wr.create("bad-app-name",{appName:String(a)});if(n||(n=Am()),!n)throw Wr.create("no-options");const c=Bl.get(a);if(c){if(rh(n,c.options)&&rh(s,c.config))return c;throw Wr.create("duplicate-app",{appName:a})}const f=new j_(a);for(const y of lh.values())f.addComponent(y);const m=new Lv(n,s,f);return Bl.set(a,m),m}function Fv(i=ah){const e=Bl.get(i);if(!e&&i===ah&&Am())return Dm();if(!e)throw Wr.create("no-app",{appName:i});return e}function Vs(i,e,n){var s;let a=(s=xv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}bl(new Yo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="firebase-heartbeat-database",zv=1,Xo="firebase-heartbeat-store";let Yc=null;function xm(){return Yc||(Yc=Z_(Uv,zv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(i=>{throw Wr.create("idb-open",{originalErrorMessage:i.message})})),Yc}async function jv(i){try{const n=(await xm()).transaction(Xo),s=await n.objectStore(Xo).get(Vm(i));return await n.done,s}catch(e){if(e instanceof Bs)gr.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Dp(i,e){try{const s=(await xm()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,Vm(i)),await s.done}catch(n){if(n instanceof Bs)gr.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function Vm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=1024,bv=30*24*60*60*1e3;class $v{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=xp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=bv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xp(),{heartbeatsToSend:s,unsentEntries:a}=qv(this._heartbeatsCache.heartbeats),c=jl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return gr.warn(n),""}}}function xp(){return new Date().toISOString().substring(0,10)}function qv(i,e=Bv){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Vp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Vp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Hv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V_()?N_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Vp(i){return jl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(i){bl(new Yo("platform-logger",e=>new nv(e),"PRIVATE")),bl(new Yo("heartbeat",e=>new $v(e),"PRIVATE")),Vs(oh,Pp,i),Vs(oh,Pp,"esm2017"),Vs("fire-js","")}Wv("");var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,Nm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function A(){}A.prototype=I.prototype,V.D=I.prototype,V.prototype=new A,V.prototype.constructor=V,V.C=function(R,C,N){for(var S=Array(arguments.length-2),le=2;le<arguments.length;le++)S[le-2]=arguments[le];return I.prototype[C].apply(R,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,A){A||(A=0);var R=Array(16);if(typeof I=="string")for(var C=0;16>C;++C)R[C]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(C=0;16>C;++C)R[C]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=V.g[0],A=V.g[1],C=V.g[2];var N=V.g[3],S=I+(N^A&(C^N))+R[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=N+(C^I&(A^C))+R[1]+3905402710&4294967295,N=I+(S<<12&4294967295|S>>>20),S=C+(A^N&(I^A))+R[2]+606105819&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(I^C&(N^I))+R[3]+3250441966&4294967295,A=C+(S<<22&4294967295|S>>>10),S=I+(N^A&(C^N))+R[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=N+(C^I&(A^C))+R[5]+1200080426&4294967295,N=I+(S<<12&4294967295|S>>>20),S=C+(A^N&(I^A))+R[6]+2821735955&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(I^C&(N^I))+R[7]+4249261313&4294967295,A=C+(S<<22&4294967295|S>>>10),S=I+(N^A&(C^N))+R[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=N+(C^I&(A^C))+R[9]+2336552879&4294967295,N=I+(S<<12&4294967295|S>>>20),S=C+(A^N&(I^A))+R[10]+4294925233&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(I^C&(N^I))+R[11]+2304563134&4294967295,A=C+(S<<22&4294967295|S>>>10),S=I+(N^A&(C^N))+R[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=N+(C^I&(A^C))+R[13]+4254626195&4294967295,N=I+(S<<12&4294967295|S>>>20),S=C+(A^N&(I^A))+R[14]+2792965006&4294967295,C=N+(S<<17&4294967295|S>>>15),S=A+(I^C&(N^I))+R[15]+1236535329&4294967295,A=C+(S<<22&4294967295|S>>>10),S=I+(C^N&(A^C))+R[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(I^A))+R[6]+3225465664&4294967295,N=I+(S<<9&4294967295|S>>>23),S=C+(I^A&(N^I))+R[11]+643717713&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(C^N))+R[0]+3921069994&4294967295,A=C+(S<<20&4294967295|S>>>12),S=I+(C^N&(A^C))+R[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(I^A))+R[10]+38016083&4294967295,N=I+(S<<9&4294967295|S>>>23),S=C+(I^A&(N^I))+R[15]+3634488961&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(C^N))+R[4]+3889429448&4294967295,A=C+(S<<20&4294967295|S>>>12),S=I+(C^N&(A^C))+R[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(I^A))+R[14]+3275163606&4294967295,N=I+(S<<9&4294967295|S>>>23),S=C+(I^A&(N^I))+R[3]+4107603335&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(C^N))+R[8]+1163531501&4294967295,A=C+(S<<20&4294967295|S>>>12),S=I+(C^N&(A^C))+R[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^C&(I^A))+R[2]+4243563512&4294967295,N=I+(S<<9&4294967295|S>>>23),S=C+(I^A&(N^I))+R[7]+1735328473&4294967295,C=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(C^N))+R[12]+2368359562&4294967295,A=C+(S<<20&4294967295|S>>>12),S=I+(A^C^N)+R[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^C)+R[8]+2272392833&4294967295,N=I+(S<<11&4294967295|S>>>21),S=C+(N^I^A)+R[11]+1839030562&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^I)+R[14]+4259657740&4294967295,A=C+(S<<23&4294967295|S>>>9),S=I+(A^C^N)+R[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^C)+R[4]+1272893353&4294967295,N=I+(S<<11&4294967295|S>>>21),S=C+(N^I^A)+R[7]+4139469664&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^I)+R[10]+3200236656&4294967295,A=C+(S<<23&4294967295|S>>>9),S=I+(A^C^N)+R[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^C)+R[0]+3936430074&4294967295,N=I+(S<<11&4294967295|S>>>21),S=C+(N^I^A)+R[3]+3572445317&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^I)+R[6]+76029189&4294967295,A=C+(S<<23&4294967295|S>>>9),S=I+(A^C^N)+R[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^C)+R[12]+3873151461&4294967295,N=I+(S<<11&4294967295|S>>>21),S=C+(N^I^A)+R[15]+530742520&4294967295,C=N+(S<<16&4294967295|S>>>16),S=A+(C^N^I)+R[2]+3299628645&4294967295,A=C+(S<<23&4294967295|S>>>9),S=I+(C^(A|~N))+R[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~C))+R[7]+1126891415&4294967295,N=I+(S<<10&4294967295|S>>>22),S=C+(I^(N|~A))+R[14]+2878612391&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~I))+R[5]+4237533241&4294967295,A=C+(S<<21&4294967295|S>>>11),S=I+(C^(A|~N))+R[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~C))+R[3]+2399980690&4294967295,N=I+(S<<10&4294967295|S>>>22),S=C+(I^(N|~A))+R[10]+4293915773&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~I))+R[1]+2240044497&4294967295,A=C+(S<<21&4294967295|S>>>11),S=I+(C^(A|~N))+R[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~C))+R[15]+4264355552&4294967295,N=I+(S<<10&4294967295|S>>>22),S=C+(I^(N|~A))+R[6]+2734768916&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~I))+R[13]+1309151649&4294967295,A=C+(S<<21&4294967295|S>>>11),S=I+(C^(A|~N))+R[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~C))+R[11]+3174756917&4294967295,N=I+(S<<10&4294967295|S>>>22),S=C+(I^(N|~A))+R[2]+718787259&4294967295,C=N+(S<<15&4294967295|S>>>17),S=A+(N^(C|~I))+R[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(C+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+C&4294967295,V.g[3]=V.g[3]+N&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var A=I-this.blockSize,R=this.B,C=this.h,N=0;N<I;){if(C==0)for(;N<=A;)a(this,V,N),N+=this.blockSize;if(typeof V=="string"){for(;N<I;)if(R[C++]=V.charCodeAt(N++),C==this.blockSize){a(this,R),C=0;break}}else for(;N<I;)if(R[C++]=V[N++],C==this.blockSize){a(this,R),C=0;break}}this.h=C,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var A=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=A&255,A/=256;for(this.u(V),V=Array(16),I=A=0;4>I;++I)for(var R=0;32>R;R+=8)V[A++]=this.g[I]>>>R&255;return V};function c(V,I){var A=m;return Object.prototype.hasOwnProperty.call(A,V)?A[V]:A[V]=I(V)}function f(V,I){this.h=I;for(var A=[],R=!0,C=V.length-1;0<=C;C--){var N=V[C]|0;R&&N==I||(A[C]=N,R=!1)}this.g=A}var m={};function y(V){return-128<=V&&128>V?c(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return D;if(0>V)return $(v(-V));for(var I=[],A=1,R=0;V>=A;R++)I[R]=V/A|0,A*=4294967296;return new f(I,0)}function w(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return $(w(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(I,8)),R=D,C=0;C<V.length;C+=8){var N=Math.min(8,V.length-C),S=parseInt(V.substring(C,C+N),I);8>N?(N=v(Math.pow(I,N)),R=R.j(N).add(v(S))):(R=R.j(A),R=R.add(v(S)))}return R}var D=y(0),O=y(1),b=y(16777216);i=f.prototype,i.m=function(){if(J(this))return-$(this).m();for(var V=0,I=1,A=0;A<this.g.length;A++){var R=this.i(A);V+=(0<=R?R:4294967296+R)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(W(this))return"0";if(J(this))return"-"+$(this).toString(V);for(var I=v(Math.pow(V,6)),A=this,R="";;){var C=Re(A,I).g;A=Se(A,C.j(I));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(V);if(A=C,W(A))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function W(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function J(V){return V.h==-1}i.l=function(V){return V=Se(this,V),J(V)?-1:W(V)?0:1};function $(V){for(var I=V.g.length,A=[],R=0;R<I;R++)A[R]=~V.g[R];return new f(A,~V.h).add(O)}i.abs=function(){return J(this)?$(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],R=0,C=0;C<=I;C++){var N=R+(this.i(C)&65535)+(V.i(C)&65535),S=(N>>>16)+(this.i(C)>>>16)+(V.i(C)>>>16);R=S>>>16,N&=65535,S&=65535,A[C]=S<<16|N}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Se(V,I){return V.add($(I))}i.j=function(V){if(W(this)||W(V))return D;if(J(this))return J(V)?$(this).j($(V)):$($(this).j(V));if(J(V))return $(this.j($(V)));if(0>this.l(b)&&0>V.l(b))return v(this.m()*V.m());for(var I=this.g.length+V.g.length,A=[],R=0;R<2*I;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var C=0;C<V.g.length;C++){var N=this.i(R)>>>16,S=this.i(R)&65535,le=V.i(C)>>>16,re=V.i(C)&65535;A[2*R+2*C]+=S*re,Ee(A,2*R+2*C),A[2*R+2*C+1]+=N*re,Ee(A,2*R+2*C+1),A[2*R+2*C+1]+=S*le,Ee(A,2*R+2*C+1),A[2*R+2*C+2]+=N*le,Ee(A,2*R+2*C+2)}for(R=0;R<I;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=I;R<2*I;R++)A[R]=0;return new f(A,0)};function Ee(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function _e(V,I){this.g=V,this.h=I}function Re(V,I){if(W(I))throw Error("division by zero");if(W(V))return new _e(D,D);if(J(V))return I=Re($(V),I),new _e($(I.g),$(I.h));if(J(I))return I=Re(V,$(I)),new _e($(I.g),I.h);if(30<V.g.length){if(J(V)||J(I))throw Error("slowDivide_ only works with positive integers.");for(var A=O,R=I;0>=R.l(V);)A=He(A),R=He(R);var C=Ce(A,1),N=Ce(R,1);for(R=Ce(R,2),A=Ce(A,2);!W(R);){var S=N.add(R);0>=S.l(V)&&(C=C.add(A),N=S),R=Ce(R,1),A=Ce(A,1)}return I=Se(V,C.j(I)),new _e(C,I)}for(C=D;0<=V.l(I);){for(A=Math.max(1,Math.floor(V.m()/I.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=v(A),S=N.j(I);J(S)||0<S.l(V);)A-=R,N=v(A),S=N.j(I);W(N)&&(N=O),C=C.add(N),V=Se(V,S)}return new _e(C,V)}i.A=function(V){return Re(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)&V.i(R);return new f(A,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)|V.i(R);return new f(A,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)^V.i(R);return new f(A,this.h^V.h)};function He(V){for(var I=V.g.length+1,A=[],R=0;R<I;R++)A[R]=V.i(R)<<1|V.i(R-1)>>>31;return new f(A,V.h)}function Ce(V,I){var A=I>>5;I%=32;for(var R=V.g.length-A,C=[],N=0;N<R;N++)C[N]=0<I?V.i(N+A)>>>I|V.i(N+A+1)<<32-I:V.i(N+A);return new f(C,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Nm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=w,Qr=f}).apply(typeof Np<"u"?Np:typeof self<"u"?self:typeof window<"u"?window:{});var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mm,$o,Lm,Ml,uh,Om,Fm,Um;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Al=="object"&&Al];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in g))break e;g=g[M]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,M={next:function(){if(!E&&g<l.length){var j=g++;return{value:d(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function D(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function O(l,d,g){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:D,O.apply(null,arguments)}function b(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function W(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,M,j){for(var te=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)te[$e-2]=arguments[$e];return d.prototype[M].apply(E,te)}}function J(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function $(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const M=l.length||0,j=E.length||0;l.length=M+j;for(let te=0;te<j;te++)l[M+te]=E[te]}else l.push(E)}}class Se{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Ee(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Re(l){return Re[" "](l),l}Re[" "]=function(){};var He=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function Ce(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function V(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,d){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)l[g]=E[g];for(let j=0;j<A.length;j++)g=A[j],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function C(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function N(l){m.setTimeout(()=>{throw l},0)}function S(){var l=X;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class le{constructor(){this.h=this.g=null}add(d,g){const E=re.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var re=new Se(()=>new ee,l=>l.reset());class ee{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,X=new le,Q=()=>{const l=m.Promise.resolve(void 0);ne=()=>{l.then(k)}};var k=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){N(g)}var d=re;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}z=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function ve(l,d){if(ie.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(He){e:{try{Re(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ve.aa.h.call(this)}}W(ve,ie);var Pe={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Le(l,d,g,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=M,this.key=++xe,this.da=this.fa=!1}function ze(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function yt(l){this.src=l,this.g={},this.h=0}yt.prototype.add=function(l,d,g,E,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var te=Xt(l,d,E,M);return-1<te?(d=l[te],g||(d.fa=!1)):(d=new Le(d,this.src,j,!!E,M),d.fa=g,l.push(d)),d};function an(l,d){var g=d.type;if(g in l.g){var E=l.g[g],M=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=M)&&Array.prototype.splice.call(E,M,1),j&&(ze(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Xt(l,d,g,E){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==d&&j.capture==!!g&&j.ha==E)return M}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),Fi={};function Qs(l,d,g,E,M){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Qs(l,d[j],g,E,M);return null}return g=Ys(g),l&&l[ke]?l.K(d,g,v(E)?!!E.capture:!1,M):Gs(l,d,g,!1,E,M)}function Gs(l,d,g,E,M,j){if(!d)throw Error("Invalid event type");var te=v(M)?!!M.capture:!!M,$e=zi(l);if($e||(l[ri]=$e=new yt(l)),g=$e.add(d,g,E,te,j),g.proxy)return g;if(E=ua(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)de||(M=te),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(Zn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ua(){function l(g){return d.call(l.src,l.listener,g)}const d=Ks;return l}function Ui(l,d,g,E,M){if(Array.isArray(d))for(var j=0;j<d.length;j++)Ui(l,d[j],g,E,M);else E=v(E)?!!E.capture:!!E,g=Ys(g),l&&l[ke]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],g=Xt(j,g,E,M),-1<g&&(ze(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=zi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Xt(d,g,E,M)),(g=-1<l?d[l]:null)&&Jn(g))}function Jn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[ke])an(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(Zn(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=zi(d))?(an(g,l),g.h==0&&(g.src=null,d[ri]=null)):ze(l)}}}function Zn(l){return l in Fi?Fi[l]:Fi[l]="on"+l}function Ks(l,d){if(l.da)l=!0;else{d=new ve(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Jn(l),l=g.call(E,d)}return l}function zi(l){return l=l[ri],l instanceof yt?l:null}var ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ys(l){return typeof l=="function"?l:(l[ji]||(l[ji]=function(d){return l.handleEvent(d)}),l[ji])}function ht(){B.call(this),this.i=new yt(this),this.M=this,this.F=null}W(ht,B),ht.prototype[ke]=!0,ht.prototype.removeEventListener=function(l,d,g,E){Ui(this,l,d,g,E)};function ft(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ie(d,l);else if(d instanceof ie)d.target=d.target||l;else{var M=d;d=new ie(E,l),R(d,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var te=d.g=g[j];M=er(te,E,!0,d)&&M}if(te=d.g=l,M=er(te,E,!0,d)&&M,M=er(te,E,!1,d)&&M,g)for(j=0;j<g.length;j++)te=d.g=g[j],M=er(te,E,!1,d)&&M}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)ze(g[E]);delete l.g[d],l.h--}}this.F=null},ht.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},ht.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function er(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,j=0;j<d.length;++j){var te=d[j];if(te&&!te.da&&te.capture==g){var $e=te.listener,dt=te.ha||te.src;te.fa&&an(l.i,te),M=$e.call(dt,E)!==!1&&M}}return M&&!E.defaultPrevented}function Xs(l,d,g){if(typeof l=="function")g&&(l=O(l,g));else if(l&&typeof l.handleEvent=="function")l=O(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function vr(l){l.g=Xs(()=>{l.g=null,l.i&&(l.i=!1,vr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ii extends B{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(l){B.call(this),this.h=l,this.g={}}W(si,B);var Js=[];function Zs(l){Ce(l.g,function(d,g){this.g.hasOwnProperty(g)&&Jn(d)},l),l.g={}}si.prototype.N=function(){si.aa.N.call(this),Zs(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=m.JSON.stringify,to=m.JSON.parse,no=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function oi(){}oi.prototype.h=null;function Bi(l){return l.h||(l.h=l.i())}function bi(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){ie.call(this,"d")}W(On,ie);function $i(){ie.call(this,"c")}W($i,ie);var Fn={},ro=null;function ai(){return ro=ro||new ht}Fn.La="serverreachability";function io(l){ie.call(this,Fn.La,l)}W(io,ie);function tr(l){const d=ai();ft(d,new io(d))}Fn.STAT_EVENT="statevent";function so(l,d){ie.call(this,Fn.STAT_EVENT,l),this.stat=d}W(so,ie);function it(l){const d=ai();ft(d,new so(d,l))}Fn.Ma="timingevent";function qi(l,d){ie.call(this,Fn.Ma,l),this.size=d}W(qi,ie);function vn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function ui(l,d,g,E,M,j){l.info(function(){if(l.g)if(j)for(var te="",$e=j.split("&"),dt=0;dt<$e.length;dt++){var Oe=$e[dt].split("=");if(1<Oe.length){var _t=Oe[0];Oe=Oe[1];var at=_t.split("_");te=2<=at.length&&at[1]=="type"?te+(_t+"="+Oe+"&"):te+(_t+"=redacted&")}}else te=null;else te=j;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+g+`
`+te})}function Hi(l,d,g,E,M,j,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+g+`
`+j+" "+te})}function En(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+gu(l,g)+(E?" "+E:"")})}function oo(l,d){l.info(function(){return"TIMEOUT: "+d})}li.prototype.info=function(){};function gu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var te=1;te<M.length;te++)M[te]=""}}}}return eo(g)}catch{return d}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function ci(){}W(ci,oi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},wn=new ci;function Tn(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ha}function ha(){this.i=null,this.g="",this.h=!1}var ao={},Qi={};function Gi(l,d,g){l.L=1,l.v=Sr(Zt(d)),l.m=g,l.P=!0,lo(l,null)}function lo(l,d){l.F=Date.now(),Qe(l),l.A=Zt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Rr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new ha,l.g=ka(l.j,g?d:null,!l.m),0<l.O&&(l.M=new ii(O(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Js[0]=M.toString()),M=Js);for(var j=0;j<M.length;j++){var te=Qs(g,M[j],E||d.handleEvent,!1,d.h||d);if(!te)break;d.g[te.key]=te}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),tr(),ui(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const d=this.M;d&&bt(l)==3?d.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const at=bt(this.g);var d=this.g.Ba();const hn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||mo(this.g)))){this.J||at!=4||d==7||(d==8||0>=hn?tr(3):tr(2)),hi(this);var g=this.g.Z();this.X=g;t:if(fa(this)){var E=mo(this.g);l="";var M=E.length,j=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Er(this);var te="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(j&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=g==200,Hi(this.i,this.u,this.A,this.l,this.R,at,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,dt=this.g;if(($e=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ee($e)){var Oe=$e;break t}}Oe=null}if(g=Oe)En(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uo(this,g);else{this.o=!1,this.s=3,it(12),un(this),Er(this);break e}}if(this.P){g=!0;let tn;for(;!this.J&&this.C<te.length;)if(tn=yu(this,te),tn==Qi){at==4&&(this.s=4,it(14),g=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==ao){this.s=4,it(15),En(this.i,this.l,te,"[Invalid Chunk]"),g=!1;break}else En(this.i,this.l,tn,null),uo(this,tn);if(fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||te.length!=0||this.h.h||(this.s=1,it(16),g=!1),this.o=this.o&&g,!g)En(this.i,this.l,te,"[Invalid Chunked Response]"),un(this),Er(this);else if(0<te.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),yo(_t),_t.M=!0,it(11))}}else En(this.i,this.l,te,null),uo(this,te);at==4&&un(this),this.o&&!this.J&&(at==4?ss(this.j,this):(this.o=!1,Qe(this)))}else es(this.g),g==400&&0<te.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),un(this),Er(this)}}}catch{}finally{}};function fa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yu(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?Qi:(g=Number(d.substring(g,E)),isNaN(g)?ao:(E+=1,E+g>d.length?Qi:(d=d.slice(E,E+g),l.C=E+g,d)))}Tn.prototype.cancel=function(){this.J=!0,un(this)};function Qe(l){l.S=Date.now()+l.I,da(l,l.I)}function da(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=vn(O(l.ba,l),d)}function hi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(oo(this.i,this.A),this.L!=2&&(tr(),it(17)),un(this),this.s=2,Er(this)):da(this,this.S-l)};function Er(l){l.j.G==0||l.J||ss(l.j,l)}function un(l){hi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Zs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function uo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ft(g.h,l))){if(!l.K&&Ft(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)is(g),Cn(g);else break e;rs(g),it(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=vn(O(g.Za,g),6e3));if(1>=ma(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else or(g,11)}else if((l.K||g.g==l)&&is(g),!Ee(d))for(M=g.Da.g.parse(d),d=0;d<M.length;d++){let Oe=M[d];if(g.T=Oe[0],Oe=Oe[1],g.G==2)if(Oe[0]=="c"){g.K=Oe[1],g.ia=Oe[2];const _t=Oe[3];_t!=null&&(g.la=_t,g.j.info("VER="+g.la));const at=Oe[4];at!=null&&(g.Aa=at,g.j.info("SVER="+g.Aa));const hn=Oe[5];hn!=null&&typeof hn=="number"&&0<hn&&(E=1.5*hn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const tn=l.g;if(tn){const _i=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var j=E.h;j.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(co(j,j.h),j.h=null))}if(E.D){const as=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(E.ya=as,We(E.I,E.D,as))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var te=l;if(E.qa=Pa(E,E.J?E.ia:null,E.W),te.K){ga(E.h,te);var $e=te,dt=E.L;dt&&($e.I=dt),$e.B&&(hi($e),Qe($e)),E.g=te}else yi(E);0<g.i.length&&Bn(g)}else Oe[0]!="stop"&&Oe[0]!="close"||or(g,7);else g.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?or(g,7):St(g):Oe[0]!="noop"&&g.l&&g.l.ta(Oe),g.v=0)}}tr(4)}catch{}}var pa=class{constructor(l,d){this.g=l,this.map=d}};function fi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ma(l){return l.h?1:l.g?l.g.size:0}function Ft(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function co(l,d){l.g?l.g.add(d):l.h=d}function ga(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}fi.prototype.cancel=function(){if(this.i=ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ya(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return J(l.i)}function Ki(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function Yi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function wr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Yi(l),E=Ki(l),M=E.length,j=0;j<M;j++)d.call(void 0,E[j],g&&g[j],l)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _u(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),M=null;if(0<=E){var j=l[g].substring(0,E);M=l[g].substring(E+1)}else j=l[g];d(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,pi(this,l.j),this.o=l.o,this.g=l.g,Tr(this,l.s),this.l=l.l;var d=l.i,g=new Un;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Ir(this,g),this.m=l.m}else l&&(d=String(l).match(di))?(this.h=!1,pi(this,d[1]||"",!0),this.o=Ne(d[2]||""),this.g=Ne(d[3]||"",!0),Tr(this,d[4]),this.l=Ne(d[5]||"",!0),Ir(this,d[6]||"",!0),this.m=Ne(d[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}nr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ar(d,Xi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ar(d,Xi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ar(g,g.charAt(0)=="/"?Ea:va,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ar(g,ho)),l.join("")};function Zt(l){return new nr(l)}function pi(l,d,g){l.j=g?Ne(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Tr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Ir(l,d,g){d instanceof Un?(l.i=d,zn(l.i,l.h)):(g||(d=Ar(d,wa)),l.i=new Un(d,l.h))}function We(l,d,g){l.i.set(d,g)}function Sr(l){return We(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ne(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ar(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,_a),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _a(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Xi=/[#\/\?@]/g,va=/[#\?:]/g,Ea=/[#\?]/g,wa=/[#\?@]/g,ho=/#/g;function Un(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function It(l){l.g||(l.g=new Map,l.h=0,l.i&&_u(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Un.prototype,i.add=function(l,d){It(this),this.i=null,l=cn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function In(l,d){It(l),d=cn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Sn(l,d){return It(l),d=cn(l,d),l.g.has(d)}i.forEach=function(l,d){It(this),this.g.forEach(function(g,E){g.forEach(function(M){l.call(d,M,E,this)},this)},this)},i.na=function(){It(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const M=l[E];for(let j=0;j<M.length;j++)g.push(d[E])}return g},i.V=function(l){It(this);let d=[];if(typeof l=="string")Sn(this,l)&&(d=d.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return It(this),this.i=null,l=cn(this,l),Sn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Rr(l,d,g){In(l,d),0<g.length&&(l.i=null,l.g.set(cn(l,d),J(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const j=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var M=j;te[E]!==""&&(M+="="+encodeURIComponent(String(te[E]))),l.push(M)}}return this.i=l.join("&")};function cn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function zn(l,d){d&&!l.j&&(It(l),l.i=null,l.g.forEach(function(g,E){var M=E.toLowerCase();E!=M&&(In(this,E),Rr(this,M,g))},l)),l.j=d}function vu(l,d){const g=new li;if(m.Image){const E=new Image;E.onload=b(Bt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=b(Bt,g,"TestLoadImage: error",!1,d,E),E.onabort=b(Bt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=b(Bt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Ta(l,d){const g=new li,E=new AbortController,M=setTimeout(()=>{E.abort(),Bt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(M),j.ok?Bt(g,"TestPingServer: ok",!0,d):Bt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Bt(g,"TestPingServer: error",!1,d)})}function Bt(l,d,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function Eu(){this.g=new no}function Ia(l,d,g){const E=g||"";try{wr(l,function(M,j){let te=M;v(M)&&(te=eo(M)),d.push(E+j+"="+encodeURIComponent(te))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function rr(l){this.l=l.Ub||null,this.j=l.eb||!1}W(rr,oi),rr.prototype.g=function(){return new mi(this.l,this.j)},rr.prototype.i=function(l){return function(){return l}}({});function mi(l,d){ht.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(mi,ht),i=mi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Rn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?An(this):Rn(this),this.readyState==3&&Sa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,An(this))},i.Qa=function(l){this.g&&(this.response=l,An(this))},i.ga=function(){this.g&&An(this)};function An(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Rn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ir(l){let d="";return Ce(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Cr(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=ir(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):We(l,d,g))}function Je(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(Je,ht);var wu=/^https?$/i,fo=["POST","PUT"];i=Je.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Bi(this.o):Bi(wn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){gi(this,j);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())g.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(fo,d,void 0))||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,te]of g)this.g.setRequestHeader(j,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){gi(this,j)}};function gi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ji(l),en(l)}function Ji(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),en(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},i.bb=function(){po(this)};function po(l){if(l.h&&typeof f<"u"&&(!l.v[1]||bt(l)!=4||l.Z()!=2)){if(l.u&&bt(l)==4)Xs(l.Ea,0,l);else if(ft(l,"readystatechange"),bt(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=te===0){var M=String(l.D).match(di)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!wu.test(M?M.toLowerCase():"")}g=E}if(g)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var j=2<bt(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Ji(l)}}finally{en(l)}}}}function en(l,d){if(l.g){Zi(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ft(l,"ready");try{g.onreadystatechange=E}catch{}}}function Zi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),to(d)}};function mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function es(l){const d={};l=(l.g&&2<=bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Ee(l[E]))continue;var g=C(l[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=d[M]||[];d[M]=j,j.push(g)}V(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function go(l){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jn("baseRetryDelayMs",5e3,l),this.cb=jn("retryDelaySeedMs",1e4,l),this.Wa=jn("forwardChannelMaxRetries",2,l),this.wa=jn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(l&&l.concurrentRequestLimit),this.Da=new Eu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=go.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){it(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Pa(this,null,this.W),Bn(this)};function St(l){if(ts(l),l.G==3){var d=l.U++,g=Zt(l.I);if(We(g,"SID",l.K),We(g,"RID",d),We(g,"TYPE","terminate"),sr(l,g),d=new Tn(l,l.j,d),d.L=2,d.v=Sr(Zt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=ka(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qe(d)}Ca(l)}function Cn(l){l.g&&(yo(l),l.g.cancel(),l.g=null)}function ts(l){Cn(l),l.u&&(m.clearTimeout(l.u),l.u=null),is(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Bn(l){if(!Jt(l.h)&&!l.s){l.s=!0;var d=l.Ga;ne||Q(),z||(ne(),z=!0),X.add(d,l),l.B=0}}function Tu(l,d){return ma(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=vn(O(l.Ga,l,d),Ra(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Tn(this,this.j,l);let j=this.o;if(this.S&&(j?(j=I(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Pr(this,M,d),g=Zt(this.I),We(g,"RID",l),We(g,"CVER",22),this.D&&We(g,"X-HTTP-Session-Id",this.D),sr(this,g),j&&(this.O?d="headers="+encodeURIComponent(String(ir(j)))+"&"+d:this.m&&Cr(g,this.m,j)),co(this.h,M),this.Ua&&We(g,"TYPE","init"),this.P?(We(g,"$req",d),We(g,"SID","null"),M.T=!0,Gi(M,g,null)):Gi(M,g,d),this.G=2}}else this.G==3&&(l?ns(this,l):this.i.length==0||Jt(this.h)||ns(this))};function ns(l,d){var g;d?g=d.l:g=l.U++;const E=Zt(l.I);We(E,"SID",l.K),We(E,"RID",g),We(E,"AID",l.T),sr(l,E),l.m&&l.o&&Cr(E,l.m,l.o),g=new Tn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Pr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),co(l.h,g),Gi(g,E,d)}function sr(l,d){l.H&&Ce(l.H,function(g,E){We(d,E,g)}),l.l&&wr({},function(g,E){We(d,E,g)})}function Pr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?O(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const te=["count="+g];j==-1?0<g?(j=M[0].g,te.push("ofs="+j)):j=0:te.push("ofs="+j);let $e=!0;for(let dt=0;dt<g;dt++){let Oe=M[dt].g;const _t=M[dt].map;if(Oe-=j,0>Oe)j=Math.max(0,M[dt].g-100),$e=!1;else try{Ia(_t,te,"req"+Oe+"_")}catch{E&&E(_t)}}if($e){E=te.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function yi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ne||Q(),z||(ne(),z=!0),X.add(d,l),l.v=0}}function rs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=vn(O(l.Fa,l),Ra(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Aa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=vn(O(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Cn(this),Aa(this))};function yo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Aa(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Zt(l.qa);We(d,"RID","rpc"),We(d,"SID",l.K),We(d,"AID",l.T),We(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&We(d,"TO",l.ja),We(d,"TYPE","xmlhttp"),sr(l,d),l.m&&l.o&&Cr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Sr(Zt(d)),g.m=null,g.P=!0,lo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Cn(this),rs(this),it(19))};function is(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ss(l,d){var g=null;if(l.g==d){is(l),yo(l),l.g=null;var E=2}else if(Ft(l.h,d))g=d.D,ga(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=ai(),ft(E,new qi(E,g)),Bn(l)}else yi(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&Tu(l,d)||E==2&&rs(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),M){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function Ra(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function or(l,d){if(l.j.info("Error code "+d),d==2){var g=O(l.fb,l),E=l.Xa;const M=!E;E=new nr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pi(E,"https"),Sr(E),M?vu(E.toString(),g):Ta(E.toString(),g)}else it(2);l.G=0,l.l&&l.l.sa(d),Ca(l),ts(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Ca(l){if(l.G=0,l.ka=[],l.l){const d=ya(l.h);(d.length!=0||l.i.length!=0)&&($(l.ka,d),$(l.ka,l.i),l.h.i.length=0,J(l.i),l.i.length=0),l.l.ra()}}function Pa(l,d,g){var E=g instanceof nr?Zt(g):new nr(g);if(E.g!="")d&&(E.g=d+"."+E.g),Tr(E,E.s);else{var M=m.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var j=new nr(null);E&&pi(j,E),d&&(j.g=d),M&&Tr(j,M),g&&(j.l=g),E=j}return g=l.D,d=l.ya,g&&d&&We(E,g,d),We(E,"VER",l.la),sr(l,E),E}function ka(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Je(new rr({eb:g})):new Je(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}i=_o.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function os(){}os.prototype.g=function(l,d){return new Ut(l,d)};function Ut(l,d){ht.call(this),this.g=new go(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!Ee(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Ee(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new bn(this)}W(Ut,ht),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){St(this.g)},Ut.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=eo(l),l=g);d.i.push(new pa(d.Ya++,l)),d.G==3&&Bn(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,Ut.aa.N.call(this)};function Da(l){On.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}W(Da,On);function xa(){$i.call(this),this.status=1}W(xa,$i);function bn(l){this.g=l}W(bn,_o),bn.prototype.ua=function(){ft(this.g,"a")},bn.prototype.ta=function(l){ft(this.g,new Da(l))},bn.prototype.sa=function(l){ft(this.g,new xa)},bn.prototype.ra=function(){ft(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Um=function(){return new os},Fm=function(){return ai()},Om=Fn,uh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Ml=Wi,ca.COMPLETE="complete",Lm=ca,bi.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",ht.prototype.listen=ht.prototype.K,$o=bi,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,Mm=Je}).apply(typeof Al<"u"?Al:typeof self<"u"?self:typeof window<"u"?window:{});const Mp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Cm("@firebase/firestore");function Ps(){return Ni.logLevel}function oe(i,...e){if(Ni.logLevel<=Ue.DEBUG){const n=e.map(Ph);Ni.debug(`Firestore (${bs}): ${i}`,...n)}}function yr(i,...e){if(Ni.logLevel<=Ue.ERROR){const n=e.map(Ph);Ni.error(`Firestore (${bs}): ${i}`,...n)}}function Ms(i,...e){if(Ni.logLevel<=Ue.WARN){const n=e.map(Ph);Ni.warn(`Firestore (${bs}): ${i}`,...n)}}function Ph(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function be(i,e){i||Te()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Gv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kv{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new zm(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Lt(e)}}class Yv{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Xv{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Yv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){be(this.o===void 0);const s=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new Jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=eE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Ls(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new qe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new qe(0,0))}static max(){return new Ie(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Qn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Qn.isNumericId(e),a=Qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Qn.extractNumericId(e).compare(Qn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class Xe extends Qn{construct(e,n,s){return new Xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const tE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Qn{construct(e,n,s){return new Pt(e,n,s)}static isValidIdentifier(e){return tE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ae(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ae(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Xe.fromString(e))}static fromName(e){return new pe(Xe.fromString(e).popFirst(5))}static empty(){return new pe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Xe(e.slice()))}}function nE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(s===1e9?new qe(n+1,0):new qe(n,s));return new Yr(a,pe.empty(),e)}function rE(i){return new Yr(i.readTime,i.key,-1)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Ie.min(),pe.empty(),-1)}static max(){return new Yr(Ie.max(),pe.empty(),-1)}}function iE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(i){if(i.code!==q.FAILED_PRECONDITION||i.message!==sE)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,s)=>{n(e)})}static reject(e){return new H((n,s)=>{s(e)})}static waitFor(e){return new H((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=H.resolve(!1);for(const s of e)n=n.next(a=>a?H.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new H((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(w=>{f[v]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new H((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function aE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zl.oe=-1;function eu(i){return i==null}function $l(i){return i===0&&1/i==-1/0}function lE(i){return typeof i=="number"&&Number.isInteger(i)&&!$l(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Lp(e)),e=cE(i.get(n),e);return Lp(e)}function cE(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Lp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ti(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Bm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rl(this.root,e,this.comparator,!0)}}class Rl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fp(this.data.getIterator())}getIteratorFrom(e){return new Fp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Fp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new on([])}unionWith(e){let n=new gt(Pt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bm("Invalid base64 string: "+c):c}}(e);return new kt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const hE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if(be(!!i),typeof i=="string"){let e=0;const n=hE.exec(i);if(be(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?kt.fromBase64String(i):kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tu(i){const e=i.mapValue.fields.__previous_value__;return kh(e)?tu(e):e}function Jo(i){const e=Xr(i.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,s,a,c,f,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class Zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kh(i)?4:pE(i)?9007199254740991:dE(i)?10:11:Te()}function Xn(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jo(i).isEqual(Jo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Xr(a.timestampValue),m=Xr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Jr(a.bytesValue).isEqual(Jr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return ot(a.geoPointValue.latitude)===ot(c.geoPointValue.latitude)&&ot(a.geoPointValue.longitude)===ot(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return ot(a.integerValue)===ot(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=ot(a.doubleValue),m=ot(c.doubleValue);return f===m?$l(f)===$l(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ls(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Op(f)!==Op(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Xn(f[y],m[y])))return!1;return!0}(i,e);default:return Te()}}function ea(i,e){return(i.values||[]).find(n=>Xn(n,e))!==void 0}function Os(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=ot(c.integerValue||c.doubleValue),y=ot(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Up(i.timestampValue,e.timestampValue);case 4:return Up(Jo(i),Jo(e));case 5:return Me(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Jr(c),y=Jr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=Me(m[v],y[v]);if(w!==0)return w}return Me(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Me(ot(c.latitude),ot(f.latitude));return m!==0?m:Me(ot(c.longitude),ot(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return zp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,v,w;const D=c.fields||{},O=f.fields||{},b=(m=D.value)===null||m===void 0?void 0:m.arrayValue,W=(y=O.value)===null||y===void 0?void 0:y.arrayValue,J=Me(((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0,((w=W==null?void 0:W.values)===null||w===void 0?void 0:w.length)||0);return J!==0?J:zp(b,W)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Cl.mapValue&&f===Cl.mapValue)return 0;if(c===Cl.mapValue)return 1;if(f===Cl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=f.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let D=0;D<y.length&&D<w.length;++D){const O=Me(y[D],w[D]);if(O!==0)return O;const b=Os(m[y[D]],v[w[D]]);if(b!==0)return b}return Me(y.length,w.length)}(i.mapValue,e.mapValue);default:throw Te()}}function Up(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=Xr(i),s=Xr(e),a=Me(n.seconds,s.seconds);return a!==0?a:Me(n.nanos,s.nanos)}function zp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Os(n[a],s[a]);if(c)return c}return Me(n.length,s.length)}function Fs(i){return ch(i)}function ch(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ch(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${ch(n.fields[f])}`;return a+"}"}(i.mapValue):Te()}function Ll(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tu(i);return e?16+Ll(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ll(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ti(s.fields,(c,f)=>{a+=c.length+Ll(f)}),a}(i.mapValue);default:throw Te()}}function jp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function hh(i){return!!i&&"integerValue"in i}function Dh(i){return!!i&&"arrayValue"in i}function Bp(i){return!!i&&"nullValue"in i}function bp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ol(i){return!!i&&"mapValue"in i}function dE(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Wo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ti(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Wo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function pE(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ol(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(n)}setAll(e){let n=Pt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Wo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ol(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ti(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Yt(Wo(this.value))}}function $m(i){const e=[];return ti(i.fields,(n,s)=>{const a=new Pt([n]);if(Ol(s)){const c=$m(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ot(e,0,Ie.min(),Ie.min(),Ie.min(),Yt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,Ie.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,Ie.min(),Ie.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,Ie.min(),Ie.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.position=e,this.inclusive=n}}function $p(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=Os(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function qp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n="asc"){this.field=e,this.dir=n}}function mE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{}class ct extends qm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new yE(e,n,s):n==="array-contains"?new EE(e,s):n==="in"?new wE(e,s):n==="not-in"?new TE(e,s):n==="array-contains-any"?new IE(e,s):new ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _E(e,s):new vE(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends qm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ln(e,n)}matches(e){return Hm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hm(i){return i.op==="and"}function Wm(i){return gE(i)&&Hm(i)}function gE(i){for(const e of i.filters)if(e instanceof Ln)return!1;return!0}function fh(i){if(i instanceof ct)return i.field.canonicalString()+i.op.toString()+Fs(i.value);if(Wm(i))return i.filters.map(e=>fh(e)).join(",");{const e=i.filters.map(n=>fh(n)).join(",");return`${i.op}(${e})`}}function Qm(i,e){return i instanceof ct?function(s,a){return a instanceof ct&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)}(i,e):i instanceof Ln?function(s,a){return a instanceof Ln&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Qm(f,a.filters[m]),!0):!1}(i,e):void Te()}function Gm(i){return i instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(i):i instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(Gm).join(" ,")+"}"}(i):"Filter"}class yE extends ct{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class _E extends ct{constructor(e,n){super(e,"in",n),this.keys=Km("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vE extends ct{constructor(e,n){super(e,"not-in",n),this.keys=Km("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Km(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class EE extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dh(n)&&ea(n.arrayValue,this.value)}}class wE extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ea(this.value.arrayValue,n)}}class TE extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ea(this.value.arrayValue,n)}}class IE extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Hp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new SE(i,e,n,s,a,c,f)}function xh(i){const e=Ae(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>fh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Fs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Fs(s)).join(",")),e.ue=n}return e.ue}function Vh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!mE(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Qm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qp(i.startAt,e.startAt)&&qp(i.endAt,e.endAt)}function dh(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function AE(i,e,n,s,a,c,f,m){return new Hs(i,e,n,s,a,c,f,m)}function Ym(i){return new Hs(i)}function Wp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Xm(i){return i.collectionGroup!==null}function Qo(i){const e=Ae(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new gt(Pt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new ta(c,s))}),n.has(Pt.keyField().canonicalString())||e.ce.push(new ta(Pt.keyField(),s))}return e.ce}function Gn(i){const e=Ae(i);return e.le||(e.le=RE(e,Qo(i))),e.le}function RE(i,e){if(i.limitType==="F")return Hp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new ta(a.field,c)});const n=i.endAt?new ql(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ql(i.startAt.position,i.startAt.inclusive):null;return Hp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ph(i,e){const n=i.filters.concat([e]);return new Hs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function mh(i,e,n){return new Hs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nu(i,e){return Vh(Gn(i),Gn(e))&&i.limitType===e.limitType}function Jm(i){return`${xh(Gn(i))}|lt:${i.limitType}`}function ks(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Gm(a)).join(", ")}]`),eu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Fs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Fs(a)).join(",")),`Target(${s})`}(Gn(i))}; limitType=${i.limitType})`}function ru(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Qo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const v=$p(f,m,y);return f.inclusive?v<=0:v<0}(s.startAt,Qo(s),a)||s.endAt&&!function(f,m,y){const v=$p(f,m,y);return f.inclusive?v>=0:v>0}(s.endAt,Qo(s),a))}(i,e)}function CE(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Zm(i){return(e,n)=>{let s=!1;for(const a of Qo(i)){const c=PE(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function PE(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Os(y,v):Te()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Bm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new nt(pe.comparator);function _r(){return kE}const eg=new nt(pe.comparator);function qo(...i){let e=eg;for(const n of i)e=e.insert(n.key,n);return e}function tg(i){let e=eg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vi(){return Go()}function ng(){return Go()}function Go(){return new Mi(i=>i.toString(),(i,e)=>i.isEqual(e))}const DE=new nt(pe.comparator),xE=new gt(pe.comparator);function Ve(...i){let e=xE;for(const n of i)e=e.add(n);return e}const VE=new gt(Me);function NE(){return VE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(e)?"-0":e}}function rg(i){return{integerValue:""+i}}function ME(i,e){return lE(e)?rg(e):Nh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this._=void 0}}function LE(i,e,n){return i instanceof Hl?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&kh(c)&&(c=tu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof na?sg(i,e):i instanceof ra?og(i,e):function(a,c){const f=ig(a,c),m=Qp(f)+Qp(a.Pe);return hh(f)&&hh(a.Pe)?rg(m):Nh(a.serializer,m)}(i,e)}function OE(i,e,n){return i instanceof na?sg(i,e):i instanceof ra?og(i,e):n}function ig(i,e){return i instanceof Wl?function(s){return hh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Hl extends iu{}class na extends iu{constructor(e){super(),this.elements=e}}function sg(i,e){const n=ag(e);for(const s of i.elements)n.some(a=>Xn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ra extends iu{constructor(e){super(),this.elements=e}}function og(i,e){let n=ag(e);for(const s of i.elements)n=n.filter(a=>!Xn(a,s));return{arrayValue:{values:n}}}class Wl extends iu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qp(i){return ot(i.integerValue||i.doubleValue)}function ag(i){return Dh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function FE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof na&&a instanceof na||s instanceof ra&&a instanceof ra?Ls(s.elements,a.elements,Xn):s instanceof Wl&&a instanceof Wl?Xn(s.Pe,a.Pe):s instanceof Hl&&a instanceof Hl}(i.transform,e.transform)}class UE{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class su{}function lg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Mh(i.key,Mn.none()):new ia(i.key,i.data,Mn.none());{const n=i.data,s=Yt.empty();let a=new gt(Pt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new ni(i.key,s,new on(a.toArray()),Mn.none())}}function zE(i,e,n){i instanceof ia?function(a,c,f){const m=a.value.clone(),y=Kp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ni?function(a,c,f){if(!Fl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Kp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(ug(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ko(i,e,n,s){return i instanceof ia?function(c,f,m,y){if(!Fl(c.precondition,f))return m;const v=c.value.clone(),w=Yp(c.fieldTransforms,y,f);return v.setAll(w),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof ni?function(c,f,m,y){if(!Fl(c.precondition,f))return m;const v=Yp(c.fieldTransforms,y,f),w=f.data;return w.setAll(ug(c)),w.setAll(v),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(D=>D.field))}(i,e,n,s):function(c,f,m){return Fl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function jE(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=ig(s.transform,a||null);c!=null&&(n===null&&(n=Yt.empty()),n.set(s.field,c))}return n||null}function Gp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ls(s,a,(c,f)=>FE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ia extends su{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ni extends su{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ug(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Kp(i,e,n){const s=new Map;be(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,OE(f,m,n[a]))}return s}function Yp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,LE(c,f,e))}return s}class Mh extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BE extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&zE(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ko(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ng();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=lg(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(n,s)=>Gp(n,s))&&Ls(this.baseMutations,e.baseMutations,(n,s)=>Gp(n,s))}}class Lh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){be(e.mutations.length===s.length);let a=function(){return DE}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Lh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Fe;function HE(i){switch(i){default:return Te();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function cg(i){if(i===void 0)return yr("GRPC error has no .code"),q.UNKNOWN;switch(i){case ut.OK:return q.OK;case ut.CANCELLED:return q.CANCELLED;case ut.UNKNOWN:return q.UNKNOWN;case ut.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ut.INTERNAL:return q.INTERNAL;case ut.UNAVAILABLE:return q.UNAVAILABLE;case ut.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ut.NOT_FOUND:return q.NOT_FOUND;case ut.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ut.ABORTED:return q.ABORTED;case ut.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ut.DATA_LOSS:return q.DATA_LOSS;default:return Te()}}(Fe=ut||(ut={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Qr([4294967295,4294967295],0);function Xp(i){const e=WE().encode(i),n=new Nm;return n.update(e),new Uint8Array(n.digest())}function Jp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([a,c],0)]}class Oh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ho(`Invalid padding: ${n}`);if(s<0)throw new Ho(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Qr.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(Qr.fromNumber(s)));return a.compare(QE)===1&&(a=new Qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Xp(e),[s,a]=Jp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Oh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Xp(e),[s,a]=Jp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ou(Ie.min(),a,new nt(Me),_r(),Ve())}}class sa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new sa(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class hg{constructor(e,n){this.targetId=e,this.me=n}}class fg{constructor(e,n,s=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Zp{constructor(){this.fe=0,this.ge=em(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),s=Ve();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te()}}),new sa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=em()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GE{constructor(e){this.Be=e,this.Le=new Map,this.ke=_r(),this.qe=Pl(),this.Qe=Pl(),this.Ke=new nt(Me)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(dh(c))if(s===0){const f=new pe(c.path);this.We(n,f,Ot.newNoDocument(f,Ie.min()))}else be(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(y){if(y instanceof bm)return Ms("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Oh(f,a,c)}catch(y){return Ms(y instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&dh(m.target)){const y=new pe(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ot.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ve();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const v=this.Ye(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new ou(e,n,this.Ke,this.ke,s);return this.ke=_r(),this.qe=Pl(),this.Qe=Pl(),this.Ke=new nt(Me),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Zp,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new gt(Me),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(Me),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Zp),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Pl(){return new nt(pe.comparator)}function em(){return new nt(pe.comparator)}const KE={asc:"ASCENDING",desc:"DESCENDING"},YE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XE={and:"AND",or:"OR"};class JE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gh(i,e){return i.useProto3Json||eu(e)?e:{value:e}}function Ql(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZE(i,e){return Ql(i,e.toTimestamp())}function Kn(i){return be(!!i),Ie.fromTimestamp(function(n){const s=Xr(n);return new qe(s.seconds,s.nanos)}(i))}function Fh(i,e){return yh(i,e).canonicalString()}function yh(i,e){const n=function(a){return new Xe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function pg(i){const e=Xe.fromString(i);return be(vg(e)),e}function _h(i,e){return Fh(i.databaseId,e.path)}function Xc(i,e){const n=pg(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(gg(n))}function mg(i,e){return Fh(i.databaseId,e)}function ew(i){const e=pg(i);return e.length===4?Xe.emptyPath():gg(e)}function vh(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gg(i){return be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function tm(i,e,n){return{name:_h(i,e),fields:n.value.mapValue.fields}}function tw(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(be(w===void 0||typeof w=="string"),kt.fromBase64String(w||"")):(be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),kt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(v){const w=v.code===void 0?q.UNKNOWN:cg(v.code);return new ae(w,v.message||"")}(f);n=new fg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Xc(i,s.document.name),c=Kn(s.document.updateTime),f=s.document.createTime?Kn(s.document.createTime):Ie.min(),m=new Yt({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,f,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Ul(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Xc(i,s.document),c=s.readTime?Kn(s.readTime):Ie.min(),f=Ot.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Ul([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Xc(i,s.document),c=s.removedTargetIds||[];n=new Ul([],c,a,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new qE(a,c),m=s.targetId;n=new hg(m,f)}}return n}function nw(i,e){let n;if(e instanceof ia)n={update:tm(i,e.key,e.value)};else if(e instanceof Mh)n={delete:_h(i,e.key)};else if(e instanceof ni)n={update:tm(i,e.key,e.data),updateMask:hw(e.fieldMask)};else{if(!(e instanceof BE))return Te();n={verify:_h(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof na)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ra)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:ZE(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te()}(i,e.precondition)),n}function rw(i,e){return i&&i.length>0?(be(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Kn(a.updateTime):Kn(c);return f.isEqual(Ie.min())&&(f=Kn(c)),new UE(f,a.transformResults||[])}(n,e))):[]}function iw(i,e){return{documents:[mg(i,e.path)]}}function sw(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mg(i,a);const c=function(v){if(v.length!==0)return _g(Ln.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(v){if(v.length!==0)return v.map(w=>function(O){return{field:Ds(O.field),direction:lw(O.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=gh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function ow(i){let e=ew(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){be(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(D){const O=yg(D);return O instanceof Ln&&Wm(O)?O.getFilters():[O]}(n.where));let f=[];n.orderBy&&(f=function(D){return D.map(O=>function(W){return new ta(xs(W.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(O))}(n.orderBy));let m=null;n.limit&&(m=function(D){let O;return O=typeof D=="object"?D.value:D,eu(O)?null:O}(n.limit));let y=null;n.startAt&&(y=function(D){const O=!!D.before,b=D.values||[];return new ql(b,O)}(n.startAt));let v=null;return n.endAt&&(v=function(D){const O=!D.before,b=D.values||[];return new ql(b,O)}(n.endAt)),AE(e,a,f,c,m,"F",y,v)}function aw(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xs(n.unaryFilter.field);return ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=xs(n.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xs(n.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xs(n.unaryFilter.field);return ct.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(n){return ct.create(xs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(s=>yg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(i):Te()}function lw(i){return KE[i]}function uw(i){return YE[i]}function cw(i){return XE[i]}function Ds(i){return{fieldPath:i.canonicalString()}}function xs(i){return Pt.fromServerFormat(i.fieldPath)}function _g(i){return i instanceof ct?function(n){if(n.op==="=="){if(bp(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(Bp(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bp(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(Bp(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:uw(n.op),value:n.value}}}(i):i instanceof Ln?function(n){const s=n.getFilters().map(a=>_g(a));return s.length===1?s[0]:{compositeFilter:{op:cw(n.op),filters:s}}}(i):Te()}function hw(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,s,a,c=Ie.min(),f=Ie.min(),m=kt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.ht=e}}function dw(i){const e=ow({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.ln=new mw}addToCollectionParentIndex(e,n){return this.ln.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Yr.min())}updateCollectionGroup(e,n,s){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class mw{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new gt(Xe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new gt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Us(0)}static Qn(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm([i,e],[n,s]){const a=Me(i,n);return a===0?Me(e,s):a}class gw{constructor(e){this.Gn=e,this.buffer=new gt(rm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();rm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qs(n)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await $s(n)}await this.Yn(3e5)})}}class _w{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Zl.oe);const s=new gw(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(nm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),a=this.params.maximumSequenceNumbersToCollect):a=D,f=Date.now(),this.nthSequenceNumber(e,a))).next(D=>(s=D,m=Date.now(),this.removeTargets(e,s,n))).next(D=>(c=D,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(D=>(v=Date.now(),Ps()<=Ue.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${D} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:D})))}}function vw(i,e){return new _w(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.changes=new Mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?H.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Ko(s.mutation,a,on.empty(),qe.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const a=Vi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=qo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=_r();const f=Go(),m=function(){return Go()}();return n.forEach((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof ni)?c=c.insert(v.key,v):w!==void 0?(f.set(v.key,w.mutation.getFieldMask()),Ko(w.mutation,v,w.mutation.getFieldMask(),qe.now())):f.set(v.key,on.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,w)=>f.set(v,w)),n.forEach((v,w)=>{var D;return m.set(v,new ww(w,(D=f.get(v))!==null&&D!==void 0?D:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Go();let a=new nt((f,m)=>f-m),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||on.empty();w=m.applyToLocalView(v,w),s.set(y,w);const D=(a.get(m.batchId)||Ve()).add(y);a=a.insert(m.batchId,D)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,D=ng();w.forEach(O=>{if(!c.has(O)){const b=lg(n.get(O),s.get(O));b!==null&&D.set(O,b),c=c.add(O)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,D))}return H.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):H.resolve(Vi());let m=-1,y=c;return f.next(v=>H.forEach(v,(w,D)=>(m<D.largestBatchId&&(m=D.largestBatchId),c.get(w)?H.resolve():this.remoteDocumentCache.getEntry(e,w).next(O=>{y=y.insert(w,O)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,Ve())).next(w=>({batchId:m,changes:tg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let a=qo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=qo();return this.indexManager.getCollectionParents(e,c).next(m=>H.forEach(m,y=>{const v=function(D,O){return new Hs(O,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((D,O)=>{f=f.insert(D,O)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,v)=>{const w=v.getKey();f.get(w)===null&&(f=f.insert(w,Ot.newInvalidDocument(w)))});let m=qo();return f.forEach((y,v)=>{const w=c.get(y);w!==void 0&&Ko(w.mutation,v,on.empty(),qe.now()),ru(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return H.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:dw(a.bundledQuery),readTime:Kn(a.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.overlays=new nt(pe.comparator),this.dr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vi();return H.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),H.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),H.resolve()}getOverlaysForCollection(e,n,s){const a=Vi(),c=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return H.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new nt((v,w)=>v-w);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Vi(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Vi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return H.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $E(n,s));let c=this.dr.get(n);c===void 0&&(c=Ve(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.Er=new gt(Tt.Ar),this.Rr=new gt(Tt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new Tt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Tt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new pe(new Xe([])),s=new Tt(n,e),a=new Tt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new pe(new Xe([])),s=new Tt(n,e),a=new Tt(n,e+1);let c=Ve();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Tt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return pe.comparator(e.key,n.key)||Me(e.br,n.br)}static Vr(e,n){return Me(e.br,n.br)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new gt(Tt.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new bE(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new Tt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return H.resolve(f)}lookupMutationBatch(e,n){return H.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return H.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Tt(n,0),a=new Tt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),H.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gt(Me);return n.forEach(a=>{const c=new Tt(a,0),f=new Tt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),H.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const f=new Tt(new pe(c),0);let m=new gt(Me);return this.vr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.br)),!0)},f),H.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){be(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return H.forEach(n.mutations,a=>{const c=new Tt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new Tt(n,0),a=this.vr.firstAfterOrEqual(s);return H.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.Nr=e,this.docs=function(){return new nt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return H.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),H.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=_r();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||iE(rE(w),s)<=0||(a.has(w.key)||ru(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return H.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Te()}Br(e,n){return H.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Pw(this)}getSize(e){return H.resolve(this.size)}}class Pw extends Ew{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),H.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.persistence=e,this.Lr=new Mi(n=>xh(n),Vh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.kr=0,this.qr=new Uh,this.targetCount=0,this.Qr=Us.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),H.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Us(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Un(n),H.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),H.waitFor(c).next(()=>a)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return H.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),H.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),H.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return H.resolve(s)}containsKey(e,n){return H.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Zl(0),this.Ur=!1,this.Ur=!0,this.Wr=new Aw,this.referenceDelegate=e(this),this.Gr=new kw(this),this.indexManager=new pw,this.remoteDocumentCache=function(a){return new Cw(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new fw(n),this.jr=new Iw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new Rw(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new Dw(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return H.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class Dw extends oE{constructor(e){super(),this.currentSequenceNumber=e}}class zh{constructor(e){this.persistence=e,this.Zr=new Uh,this.Xr=null}static ei(e){return new zh(e)}get ti(){if(this.Xr)return this.Xr;throw Te()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),H.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),H.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,s=>{const a=pe.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,Ie.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return H.or([()=>H.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Gl{constructor(e,n){this.persistence=e,this.ri=new Mi(s=>uE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=vw(this,n)}static ei(e,n){return new Gl(e,n)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return H.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?H.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,Ie.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ll(e.data.value)),n}ir(e,n,s){return H.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return H.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ve(),a=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new jh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return x_()?8:aE(k_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new xw;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ps()<=Ue.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(Ps()<=Ue.DEBUG&&oe("QueryEngine","Query:",ks(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ps()<=Ue.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):H.resolve())}Xi(e,n){if(Wp(n))return H.resolve(null);let s=Gn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=mh(n,null,"F"),s=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ve(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.rs(n,m);return this.ss(n,v,f,y.readTime)?this.Xi(e,mh(n,null,"F")):this.os(e,v,n,y)}))})))}es(e,n,s,a){return Wp(n)||a.isEqual(Ie.min())?H.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?H.resolve(null):(Ps()<=Ue.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ks(n)),this.os(e,f,n,nE(a,-1)).next(m=>m))})}rs(e,n){let s=new gt(Zm(e));return n.forEach((a,c)=>{ru(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Ps()<=Ue.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ks(n)),this.Zi.getDocumentsMatchingQuery(e,n,Yr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new nt(Me),this.cs=new Mi(c=>xh(c),Vh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tw(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Mw(i,e,n,s){return new Nw(i,e,n,s)}async function wg(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ve();for(const v of a){f.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ts:v,removedBatchIds:f,addedBatchIds:m}))})})}function Lw(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,v,w){const D=v.batch,O=D.keys();let b=H.resolve();return O.forEach(W=>{b=b.next(()=>w.getEntry(y,W)).next(J=>{const $=v.docVersions.get(W);be($!==null),J.version.compareTo($)<0&&(D.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),w.addEntry(J)))})}),b.next(()=>m.mutationQueue.removeMutationBatch(y,D))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Ve();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Tg(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Ow(i,e){const n=Ae(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,D)=>{const O=a.get(D);if(!O)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,D).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,D)));let b=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(D)!==null?b=b.withResumeToken(kt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,s)),a=a.insert(D,b),function(J,$,Se){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0}(O,b,w)&&m.push(n.Gr.updateTargetData(c,b))});let y=_r(),v=Ve();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(Fw(c,f,e.documentUpdates).next(w=>{y=w.Is,v=w.ds})),!s.isEqual(Ie.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(D=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return H.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.us=a,c))}function Fw(i,e,n){let s=Ve(),a=Ve();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=_r();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(Ie.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Is:f,ds:a}})}function Uw(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function zw(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,H.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Eh(i,e,n){const s=Ae(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!qs(f))throw f;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function im(i,e,n){const s=Ae(i);let a=Ie.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,v,w){const D=Ae(y),O=D.cs.get(w);return O!==void 0?H.resolve(D.us.get(O)):D.Gr.getTargetData(v,w)}(s,f,Gn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:Ie.min(),n?c:Ve())).next(m=>(jw(s,CE(e),m),{documents:m,Es:c})))}function jw(i,e,n){let s=i.ls.get(e)||Ie.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class sm{constructor(){this.activeTargetIds=NE()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bw{constructor(){this._o=new sm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new sm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl=null;function Jc(){return kl===null?kl=function(){return 268435456+Math.round(2147483648*Math.random())}():kl++,"0x"+kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class Hw extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Jc(),y=this.No(n,s.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,c,f),this.Lo(n,y,v,a).then(w=>(oe("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Ms("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=$w[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=Jc();return new Promise((f,m)=>{const y=new Mm;y.setWithCredentials(!0),y.listenOnce(Lm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ml.NO_ERROR:const w=y.getResponseJson();oe(Mt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Ml.TIMEOUT:oe(Mt,`RPC '${e}' ${c} timed out`),m(new ae(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:const D=y.getStatus();if(oe(Mt,`RPC '${e}' ${c} failed with status:`,D,"response text:",y.getResponseText()),D>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const b=O==null?void 0:O.error;if(b&&b.status&&b.message){const W=function($){const Se=$.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(Se)>=0?Se:q.UNKNOWN}(b.status);m(new ae(W,b.message))}else m(new ae(q.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ae(q.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{oe(Mt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);oe(Mt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}qo(e,n,s){const a=Jc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Um(),m=Fm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Bo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");oe(Mt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const D=f.createWebChannel(w,y);let O=!1,b=!1;const W=new qw({Eo:$=>{b?oe(Mt,`Not sending because RPC '${e}' stream ${a} is closed:`,$):(O||(oe(Mt,`Opening RPC '${e}' stream ${a} transport.`),D.open(),O=!0),oe(Mt,`RPC '${e}' stream ${a} sending:`,$),D.send($))},Ao:()=>D.close()}),J=($,Se,Ee)=>{$.listen(Se,_e=>{try{Ee(_e)}catch(Re){setTimeout(()=>{throw Re},0)}})};return J(D,$o.EventType.OPEN,()=>{b||(oe(Mt,`RPC '${e}' stream ${a} transport opened.`),W.So())}),J(D,$o.EventType.CLOSE,()=>{b||(b=!0,oe(Mt,`RPC '${e}' stream ${a} transport closed`),W.Do())}),J(D,$o.EventType.ERROR,$=>{b||(b=!0,Ms(Mt,`RPC '${e}' stream ${a} transport errored:`,$),W.Do(new ae(q.UNAVAILABLE,"The operation could not be completed")))}),J(D,$o.EventType.MESSAGE,$=>{var Se;if(!b){const Ee=$.data[0];be(!!Ee);const _e=Ee,Re=(_e==null?void 0:_e.error)||((Se=_e[0])===null||Se===void 0?void 0:Se.error);if(Re){oe(Mt,`RPC '${e}' stream ${a} received error:`,Re);const He=Re.status;let Ce=function(A){const R=ut[A];if(R!==void 0)return cg(R)}(He),V=Re.message;Ce===void 0&&(Ce=q.INTERNAL,V="Unknown error status: "+He+" with message "+Re.message),b=!0,W.Do(new ae(Ce,V)),D.close()}else oe(Mt,`RPC '${e}' stream ${a} received:`,Ee),W.vo(Ee)}}),J(m,Om.STAT_EVENT,$=>{$.stat===uh.PROXY?oe(Mt,`RPC '${e}' stream ${a} detected buffering proxy`):$.stat===uh.NOPROXY&&oe(Mt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{W.bo()},0),W}}function Zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){return new JE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Ig(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ae(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ww extends Sg{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=tw(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ie.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?Kn(f.readTime):Ie.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=vh(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=dh(y)?{documents:iw(c,y)}:{query:sw(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=dg(c,f.resumeToken);const v=gh(c,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Ql(c,f.snapshotVersion.toTimestamp());const v=gh(c,f.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=aw(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=vh(this.serializer),n.removeTarget=e,this.c_(n)}}class Qw extends Sg{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=rw(e.writeResults,e.commitTime),s=Kn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=vh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>nw(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,yh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(q.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,yh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(q.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Kw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(yr(n),this.C_=!1):oe("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Li(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=Ae(y);v.k_.add(4),await oa(v),v.K_.set("Unknown"),v.k_.delete(4),await lu(v)}(this))})}),this.K_=new Kw(s,a)}}async function lu(i){if(Li(i))for(const e of i.q_)await e(!0)}async function oa(i){for(const e of i.q_)await e(!1)}function Ag(i,e){const n=Ae(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),qh(n)?$h(n):Ws(n).s_()&&bh(n,e))}function Bh(i,e){const n=Ae(i),s=Ws(n);n.L_.delete(e),s.s_()&&Rg(n,e),n.L_.size===0&&(s.s_()?s.a_():Li(n)&&n.K_.set("Unknown"))}function bh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ws(i).V_(e)}function Rg(i,e){i.U_.xe(e),Ws(i).m_(e)}function $h(i){i.U_=new GE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ws(i).start(),i.K_.F_()}function qh(i){return Li(i)&&!Ws(i).i_()&&i.L_.size>0}function Li(i){return Ae(i).k_.size===0}function Cg(i){i.U_=void 0}async function Xw(i){i.K_.set("Online")}async function Jw(i){i.L_.forEach((e,n)=>{bh(i,e)})}async function Zw(i,e){Cg(i),qh(i)?(i.K_.O_(e),$h(i)):i.K_.set("Unknown")}async function eT(i,e,n){if(i.K_.set("Online"),e instanceof fg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.L_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.L_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kl(i,s)}else if(e instanceof Ul?i.U_.$e(e):e instanceof hg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Ie.min()))try{const s=await Tg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.L_.get(v);w&&c.L_.set(v,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,v)=>{const w=c.L_.get(y);if(!w)return;c.L_.set(y,w.withResumeToken(kt.EMPTY_BYTE_STRING,w.snapshotVersion)),Rg(c,y);const D=new qr(w.target,y,v,w.sequenceNumber);bh(c,D)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){oe("RemoteStore","Failed to raise snapshot:",s),await Kl(i,s)}}async function Kl(i,e,n){if(!qs(e))throw e;i.k_.add(1),await oa(i),i.K_.set("Offline"),n||(n=()=>Tg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await lu(i)})}function Pg(i,e){return e().catch(n=>Kl(i,n,e))}async function uu(i){const e=Ae(i),n=ei(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;tT(e);)try{const a=await Uw(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,nT(e,a)}catch(a){await Kl(e,a)}kg(e)&&Dg(e)}function tT(i){return Li(i)&&i.B_.length<10}function nT(i,e){i.B_.push(e);const n=ei(i);n.s_()&&n.f_&&n.g_(e.mutations)}function kg(i){return Li(i)&&!ei(i).i_()&&i.B_.length>0}function Dg(i){ei(i).start()}async function rT(i){ei(i).w_()}async function iT(i){const e=ei(i);for(const n of i.B_)e.g_(n.mutations)}async function sT(i,e,n){const s=i.B_.shift(),a=Lh.from(s,e,n);await Pg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await uu(i)}async function oT(i,e){e&&ei(i).f_&&await async function(s,a){if(function(f){return HE(f)&&f!==q.ABORTED}(a.code)){const c=s.B_.shift();ei(s).__(),await Pg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await uu(s)}}(i,e),kg(i)&&Dg(i)}async function am(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const s=Li(n);n.k_.add(3),await oa(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await lu(n)}async function aT(i,e){const n=Ae(i);e?(n.k_.delete(2),await lu(n)):e||(n.k_.add(2),await oa(n),n.K_.set("Unknown"))}function Ws(i){return i.W_||(i.W_=function(n,s,a){const c=Ae(n);return c.b_(),new Ww(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:Xw.bind(null,i),mo:Jw.bind(null,i),po:Zw.bind(null,i),R_:eT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),qh(i)?$h(i):i.K_.set("Unknown")):(await i.W_.stop(),Cg(i))})),i.W_}function ei(i){return i.G_||(i.G_=function(n,s,a){const c=Ae(n);return c.b_(),new Qw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:rT.bind(null,i),po:oT.bind(null,i),p_:iT.bind(null,i),y_:sT.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await uu(i)):(await i.G_.stop(),i.B_.length>0&&(oe("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Hh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wh(i,e){if(yr("AsyncQueue",`${e}: ${i}`),qs(i))return new ae(q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static emptySet(e){return new Ns(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=qo(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ns;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.z_=new nt(pe.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Te():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class zs{constructor(e,n,s,a,c,f,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new zs(e,n,Ns.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class uT{constructor(){this.queries=um(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ae(n),c=a.queries;a.queries=um(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new ae(q.ABORTED,"Firestore shutting down"))}}function um(){return new Mi(i=>Jm(i),nu)}async function cT(i,e){const n=Ae(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new lT,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Wh(f,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Qh(n)}async function hT(i,e){const n=Ae(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fT(i,e){const n=Ae(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Qh(n)}function dT(i,e,n){const s=Ae(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Qh(i){i.X_.forEach(e=>{e.next()})}var wh,cm;(cm=wh||(wh={})).na="default",cm.Cache="cache";class pT{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new zs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==wh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.key=e}}class Vg{constructor(e){this.key=e}}class mT{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=Zm(e),this.ma=new Ns(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new lm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,D)=>{const O=a.get(w),b=ru(this.query,D)?D:null,W=!!O&&this.mutatedKeys.has(O.key),J=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let $=!1;O&&b?O.data.isEqual(b.data)?W!==J&&(s.track({type:3,doc:b}),$=!0):this.ya(O,b)||(s.track({type:2,doc:b}),$=!0,(y&&this.Va(b,y)>0||v&&this.Va(b,v)<0)&&(m=!0)):!O&&b?(s.track({type:0,doc:b}),$=!0):O&&!b&&(s.track({type:1,doc:O}),$=!0,(y||v)&&(m=!0)),$&&(b?(f=f.add(b),c=J?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,D)=>function(b,W){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return J(b)-J(W)}(w.type,D.type)||this.Va(w.doc,D.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,v=y!==this.Aa;return this.Aa=y,f.length!==0||v?{snapshot:new zs(this.query,e.ma,c,f,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new lm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Vg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new xg(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ve();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return zs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class gT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yT{constructor(e){this.key=e,this.Fa=!1}}class _T{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Mi(m=>Jm(m),nu),this.Oa=new Map,this.Na=new Set,this.Ba=new nt(pe.comparator),this.La=new Map,this.ka=new Uh,this.qa={},this.Qa=new Map,this.Ka=Us.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function vT(i,e,n=!0){const s=Ug(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Ng(s,e,n,!0),a}async function ET(i,e){const n=Ug(i);await Ng(n,e,!0,!1)}async function Ng(i,e,n,s){const a=await zw(i.localStore,Gn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await wT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Ag(i.remoteStore,a),m}async function wT(i,e,n,s,a){i.Ua=(D,O,b)=>async function(J,$,Se,Ee){let _e=$.view.ga(Se);_e.ss&&(_e=await im(J.localStore,$.query,!1).then(({documents:V})=>$.view.ga(V,_e)));const Re=Ee&&Ee.targetChanges.get($.targetId),He=Ee&&Ee.targetMismatches.get($.targetId)!=null,Ce=$.view.applyChanges(_e,J.isPrimaryClient,Re,He);return fm(J,$.targetId,Ce.ba),Ce.snapshot}(i,D,O,b);const c=await im(i.localStore,e,!0),f=new mT(e,c.Es),m=f.ga(c.documents),y=sa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=f.applyChanges(m,i.isPrimaryClient,y);fm(i,n,v.ba);const w=new gT(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function TT(i,e,n){const s=Ae(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!nu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Eh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Bh(s.remoteStore,a.targetId),Th(s,a.targetId)}).catch($s)):(Th(s,a.targetId),await Eh(s.localStore,a.targetId,!0))}async function IT(i,e){const n=Ae(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bh(n.remoteStore,s.targetId))}async function ST(i,e,n){const s=xT(i);try{const a=await function(f,m){const y=Ae(f),v=qe.now(),w=m.reduce((b,W)=>b.add(W.key),Ve());let D,O;return y.persistence.runTransaction("Locally write mutations","readwrite",b=>{let W=_r(),J=Ve();return y.hs.getEntries(b,w).next($=>{W=$,W.forEach((Se,Ee)=>{Ee.isValidDocument()||(J=J.add(Se))})}).next(()=>y.localDocuments.getOverlayedDocuments(b,W)).next($=>{D=$;const Se=[];for(const Ee of m){const _e=jE(Ee,D.get(Ee.key).overlayedDocument);_e!=null&&Se.push(new ni(Ee.key,_e,$m(_e.value.mapValue),Mn.exists(!0)))}return y.mutationQueue.addMutationBatch(b,v,Se,m)}).next($=>{O=$;const Se=$.applyToLocalDocumentSet(D,J);return y.documentOverlayCache.saveOverlays(b,$.batchId,Se)})}).then(()=>({batchId:O.batchId,changes:tg(D)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let v=f.qa[f.currentUser.toKey()];v||(v=new nt(Me)),v=v.insert(m,y),f.qa[f.currentUser.toKey()]=v}(s,a.batchId,n),await aa(s,a.changes),await uu(s.remoteStore)}catch(a){const c=Wh(a,"Failed to persist write");n.reject(c)}}async function Mg(i,e){const n=Ae(i);try{const s=await Ow(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?be(f.Fa):a.removedDocuments.size>0&&(be(f.Fa),f.Fa=!1))}),await aa(n,s,e)}catch(s){await $s(s)}}function hm(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=Ae(f);y.onlineState=m;let v=!1;y.queries.forEach((w,D)=>{for(const O of D.J_)O.ea(m)&&(v=!0)}),v&&Qh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AT(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new nt(pe.comparator);f=f.insert(c,Ot.newNoDocument(c,Ie.min()));const m=Ve().add(c),y=new ou(Ie.min(),new Map,new nt(Me),f,m);await Mg(s,y),s.Ba=s.Ba.remove(c),s.La.delete(e),Gh(s)}else await Eh(s.localStore,e,!1).then(()=>Th(s,e,n)).catch($s)}async function RT(i,e){const n=Ae(i),s=e.batch.batchId;try{const a=await Lw(n.localStore,e);Og(n,s,null),Lg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await aa(n,a)}catch(a){await $s(a)}}async function CT(i,e,n){const s=Ae(i);try{const a=await function(f,m){const y=Ae(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next(D=>(be(D!==null),w=D.keys(),y.mutationQueue.removeMutationBatch(v,D))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>y.localDocuments.getDocuments(v,w))})}(s.localStore,e);Og(s,e,n),Lg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await aa(s,a)}catch(a){await $s(a)}}function Lg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Og(i,e,n){const s=Ae(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Th(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Fg(i,s)})}function Fg(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(Bh(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),Gh(i))}function fm(i,e,n){for(const s of n)s instanceof xg?(i.ka.addReference(s.key,e),PT(i,s)):s instanceof Vg?(oe("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Fg(i,s.key)):Te()}function PT(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(oe("SyncEngine","New document in limbo: "+n),i.Na.add(s),Gh(i))}function Gh(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new pe(Xe.fromString(e)),s=i.Ka.next();i.La.set(s,new yT(n)),i.Ba=i.Ba.insert(n,s),Ag(i.remoteStore,new qr(Gn(Ym(n.path)),s,"TargetPurposeLimboResolution",Zl.oe))}}async function aa(i,e,n){const s=Ae(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const D=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,D?"current":"not-current")}if(v){a.push(v);const D=jh.zi(y.targetId,v);c.push(D)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,v){const w=Ae(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>H.forEach(v,O=>H.forEach(O.Wi,b=>w.persistence.referenceDelegate.addReference(D,O.targetId,b)).next(()=>H.forEach(O.Gi,b=>w.persistence.referenceDelegate.removeReference(D,O.targetId,b)))))}catch(D){if(!qs(D))throw D;oe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const O=D.targetId;if(!D.fromCache){const b=w.us.get(O),W=b.snapshotVersion,J=b.withLastLimboFreeSnapshotVersion(W);w.us=w.us.insert(O,J)}}}(s.localStore,c))}async function kT(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const s=await wg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new ae(q.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await aa(n,s.Ts)}}function DT(i,e){const n=Ae(i),s=n.La.get(e);if(s&&s.Fa)return Ve().add(s.key);{let a=Ve();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Ug(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AT.bind(null,e),e.Ma.R_=fT.bind(null,e.eventManager),e.Ma.Wa=dT.bind(null,e.eventManager),e}function xT(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CT.bind(null,e),e}class Yl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=au(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Mw(this.persistence,new Vw,e.initialUser,this.serializer)}ja(e){return new Eg(zh.ei,this.serializer)}za(e){return new Bw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yl.provider={build:()=>new Yl};class VT extends Yl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){be(this.persistence.referenceDelegate instanceof Gl);const s=this.persistence.referenceDelegate.garbageCollector;return new yw(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Eg(s=>Gl.ei(s,n),this.serializer)}}class Ih{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kT.bind(null,this.syncEngine),await aT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uT}()}createDatastore(e){const n=au(e.databaseInfo.databaseId),s=function(c){return new Hw(c)}(e.databaseInfo);return function(c,f,m,y){return new Gw(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new Yw(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>hm(this.syncEngine,n,0),function(){return om.p()?new om:new bw}())}createSyncEngine(e,n){return function(a,c,f,m,y,v,w){const D=new _T(a,c,f,m,y,v);return w&&(D.$a=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ae(a);oe("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await oa(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ih.provider={build:()=>new Ih};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{oe("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Wh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function eh(i,e){i.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await wg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function dm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await LT(i);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>am(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>am(e.remoteStore,a)),i._onlineComponents=e}async function LT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await eh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===q.FAILED_PRECONDITION||a.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await eh(i,new Yl)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await eh(i,new VT(void 0));return i._offlineComponents}async function zg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await dm(i,i._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await dm(i,new Ih))),i._onlineComponents}function OT(i){return zg(i).then(e=>e.syncEngine)}async function FT(i){const e=await zg(i),n=e.eventManager;return n.onListen=vT.bind(null,e.syncEngine),n.onUnlisten=TT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ET.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IT.bind(null,e.syncEngine),n}function UT(i,e,n={}){const s=new Gr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,v){const w=new NT({next:O=>{w.eu(),f.enqueueAndForget(()=>hT(c,D)),O.fromCache&&y.source==="server"?v.reject(new ae(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),D=new pT(m,w,{includeMetadataChanges:!0,ua:!0});return cT(c,D)}(await FT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(i,e,n){if(!n)throw new ae(q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function zT(i,e,n,s){if(e===!0&&s===!0)throw new ae(q.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function mm(i){if(!pe.isDocumentKey(i))throw new ae(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gm(i){if(pe.isDocumentKey(i))throw new ae(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function Xl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cu(i);throw new ae(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ym({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ym(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Qv;switch(s.type){case"firstParty":return new Xv(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pm.get(n);s&&(oe("ComponentProvider","Removing Datastore"),pm.delete(n),s.terminate())}(this),Promise.resolve()}}function jT(i,e,n,s={}){var a;const c=(i=Xl(i,hu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=P_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ae(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(v)}i._authCredentials=new Gv(new zm(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class _n{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Kr extends Oi{constructor(e,n,s){super(e,n,Ym(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new pe(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function th(i,e,...n){if(i=Yn(i),Bg("collection","path",e),i instanceof hu){const s=Xe.fromString(e,...n);return gm(s),new Kr(i,null,s)}{if(!(i instanceof _n||i instanceof Kr))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return gm(s),new Kr(i.firestore,null,s)}}function BT(i,e,...n){if(i=Yn(i),arguments.length===1&&(e=jm.newId()),Bg("doc","path",e),i instanceof hu){const s=Xe.fromString(e,...n);return mm(s),new _n(i,null,new pe(s))}{if(!(i instanceof _n||i instanceof Kr))throw new ae(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...n));return mm(s),new _n(i.firestore,i instanceof Kr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Ig(this,"async_queue_retry"),this.fu=()=>{const s=Zc();s&&oe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Zc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Gr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!qs(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw yr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Hh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&Te()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class Kh extends hu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _m,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _m(e),this._firestoreClient=void 0,await e}}}function bT(i,e){const n=typeof i=="object"?i:Fv(),s=typeof i=="string"?i:"(default)",a=Nv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=R_("firestore");c&&jT(a,...c)}return a}function Yh(i){if(i._terminated)throw new ae(q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$T(i),i._firestoreClient}function $T(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,w){return new fE(m,y,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,jg(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new MT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(kt.fromBase64String(e))}catch(n){throw new ae(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=/^__.*__$/;class HT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new ia(e,this.data,n,this.fieldTransforms)}}class bg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $g(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class ef{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Jl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($g(this.Mu)&&qT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class WT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||au(e)}$u(e,n,s,a=!1){return new ef({Mu:e,methodName:n,Ku:s,path:Pt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(i){const e=i._freezeSettings(),n=au(i._databaseId);return new WT(i._databaseId,!!e.ignoreUndefinedProperties,n)}function QT(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);tf("Data must be an object, but it was:",f,s);const m=Hg(s,f);let y,v;if(c.merge)y=new on(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const w=[];for(const D of c.mergeFields){const O=Sh(e,D,n);if(!f.contains(O))throw new ae(q.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);Qg(w,O)||w.push(O)}y=new on(w),v=f.fieldTransforms.filter(D=>y.covers(D.field))}else y=null,v=f.fieldTransforms;return new HT(new Yt(m),y,v)}class du extends Xh{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof du}}function GT(i,e,n,s){const a=i.$u(1,e,n);tf("Data must be an object, but it was:",a,s);const c=[],f=Yt.empty();ti(s,(y,v)=>{const w=nf(e,y,n);v=Yn(v);const D=a.Lu(w);if(v instanceof du)c.push(w);else{const O=la(v,D);O!=null&&(c.push(w),f.set(w,O))}});const m=new on(c);return new bg(f,m,a.fieldTransforms)}function KT(i,e,n,s,a,c){const f=i.$u(1,e,n),m=[Sh(e,s,n)],y=[a];if(c.length%2!=0)throw new ae(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)m.push(Sh(e,c[O])),y.push(c[O+1]);const v=[],w=Yt.empty();for(let O=m.length-1;O>=0;--O)if(!Qg(v,m[O])){const b=m[O];let W=y[O];W=Yn(W);const J=f.Lu(b);if(W instanceof du)v.push(b);else{const $=la(W,J);$!=null&&(v.push(b),w.set(b,$))}}const D=new on(v);return new bg(w,D,f.fieldTransforms)}function YT(i,e,n,s=!1){return la(n,i.$u(s?4:3,e))}function la(i,e){if(Wg(i=Yn(i)))return tf("Unsupported field value:",e,i),Hg(i,e);if(i instanceof Xh)return function(s,a){if(!$g(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=la(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ME(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=qe.fromDate(s);return{timestampValue:Ql(a.serializer,c)}}if(s instanceof qe){const c=new qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ql(a.serializer,c)}}if(s instanceof Jh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:dg(a.serializer,s._byteString)};if(s instanceof _n){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Zh)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Nh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${cu(s)}`)}(i,e)}function Hg(i,e){const n={};return Bm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(i,(s,a)=>{const c=la(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Wg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof qe||i instanceof Jh||i instanceof js||i instanceof _n||i instanceof Xh||i instanceof Zh)}function tf(i,e,n){if(!Wg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=cu(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Sh(i,e,n){if((e=Yn(e))instanceof fu)return e._internalPath;if(typeof e=="string")return nf(i,e);throw Jl("Field path arguments must be of type string or ",i,!1,void 0,n)}const XT=new RegExp("[~\\*/\\[\\]]");function nf(i,e,n){if(e.search(XT)>=0)throw Jl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new fu(...e.split("."))._internalPath}catch{throw Jl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new ae(q.INVALID_ARGUMENT,m+i+y)}function Qg(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JT extends Gg{data(){return super.data()}}function pu(i,e){return typeof e=="string"?nf(i,e):e instanceof fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rf{}class Kg extends rf{}function $r(i,e,...n){let s=[];e instanceof rf&&s.push(e),s=s.concat(n),function(c){const f=c.filter(y=>y instanceof sf).length,m=c.filter(y=>y instanceof mu).length;if(f>1||f>0&&m>0)throw new ae(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class mu extends Kg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new mu(e,n,s)}_apply(e){const n=this._parse(e);return Yg(e._query,n),new Oi(e.firestore,e.converter,ph(e._query,n))}_parse(e){const n=qg(e.firestore);return function(c,f,m,y,v,w,D){let O;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ae(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){wm(D,w);const b=[];for(const W of D)b.push(Em(y,c,W));O={arrayValue:{values:b}}}else O=Em(y,c,D)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||wm(D,w),O=YT(m,f,D,w==="in"||w==="not-in");return ct.create(v,w,O)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dl(i,e,n){const s=e,a=pu("where",i);return mu._create(a,s,n)}class sf extends rf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const y of m)Yg(f,y),f=ph(f,y)}(e._query,n),new Oi(e.firestore,e.converter,ph(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class of extends Kg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new of(e,n)}_apply(e){const n=function(a,c,f){if(a.startAt!==null)throw new ae(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ae(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ta(c,f)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(a,c){const f=a.explicitOrderBy.concat([c]);return new Hs(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function vm(i,e="asc"){const n=e,s=pu("orderBy",i);return of._create(s,n)}function Em(i,e,n){if(typeof(n=Yn(n))=="string"){if(n==="")throw new ae(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xm(e)&&n.indexOf("/")!==-1)throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Xe.fromString(n));if(!pe.isDocumentKey(s))throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jp(i,new pe(s))}if(n instanceof _n)return jp(i,n._key);throw new ae(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cu(n)}.`)}function wm(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yg(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e0{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ti(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>ot(f.doubleValue));return new Zh(c)}convertGeoPoint(e){return new Jh(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=Xr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Xe.fromString(e);be(vg(s));const a=new Zo(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return a.isEqual(n)||yr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class n0 extends Gg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class zl extends n0{data(e={}){return super.data(e)}}class r0{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new xl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new zl(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new zl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new xl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new zl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new xl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:i0(m.type),doc:y,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i0(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class s0 extends e0{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function Tm(i){i=Xl(i,Oi);const e=Xl(i.firestore,Kh),n=Yh(e),s=new s0(e);return ZT(i._query),UT(n,i._query).then(a=>new r0(e,s,i,a))}function o0(i,e){return function(s,a){const c=new Gr;return s.asyncQueue.enqueueAndForget(async()=>ST(await OT(s),a,c)),c.promise}(Yh(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qg(e)}set(e,n,s){this._verifyNotCommitted();const a=nh(e,this._firestore),c=t0(a.converter,n,s),f=QT(this._dataReader,"WriteBatch.set",a._key,c,a.converter!==null,s);return this._mutations.push(f.toMutation(a._key,Mn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const c=nh(e,this._firestore);let f;return f=typeof(n=Yn(n))=="string"||n instanceof fu?KT(this._dataReader,"WriteBatch.update",c._key,n,s,a):GT(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=nh(e,this._firestore);return this._mutations=this._mutations.concat(new Mh(n._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nh(i,e){if((i=Yn(i)).firestore!==e)throw new ae(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(i){return Yh(i=Xl(i,Kh)),new a0(i,e=>o0(i,e))}(function(e,n=!0){(function(a){bs=a})(Ov),bl(new Yo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Kh(new Kv(s.getProvider("auth-internal")),new Zv(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ae(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(v.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Vs(Mp,"4.7.6",e),Vs(Mp,"4.7.6","esm2017")})();var u0="firebase",c0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(u0,c0,"app");const h0={apiKey:"AIzaSyCGLPXnPcK9_ihxq1jDgmXGYT5dMcXwm-g",authDomain:"job-portal-50a81.firebaseapp.com",projectId:"job-portal-50a81",storageBucket:"job-portal-50a81.firebasestorage.app",messagingSenderId:"958288515279",appId:"1:958288515279:web:2a8e8682003ad7e2cce7ba"},f0=Dm(h0),Vl=bT(f0),d0=[{postedOn:qe.now(),title:"Frontend Developer",company:"Meta",type:"Contract",experience:"Mid Level",location:"Hybrid",skills:["React","JavaScript","CSS","HTML"],job_link:"https://www.meta.com/careers/"},{postedOn:qe.now(),title:"Backend Developer",company:"Microsoft",type:"Full Time",experience:"Senior Level",location:"Remote",skills:["Python","Machine Learning","SQL","Azure"],job_link:"https://careers.microsoft.com/us/en"},{postedOn:qe.now(),title:"Mobile Developer",company:"Amazon",type:"Full Time",experience:"Mid Level",location:"Remote",skills:["AWS","Docker","Kubernetes","CI/CD"],job_link:"https://www.amazon.jobs/en/"},{postedOn:qe.now(),title:"Frontend Developer",company:"Tesla",type:"Part Time",experience:"Entry Level",location:"In-Office",skills:["Figma","Sketch","Adobe XD","Wireframing"],job_link:"https://www.tesla.com/careers"},{postedOn:qe.now(),title:"Backend Developer",company:"IBM",type:"Full Time",experience:"Mid Level",location:"In-Office",skills:["AWS","Azure","Terraform","Ansible"],job_link:"https://www.ibm.com/employment/"},{postedOn:qe.now(),title:"Android Developer",company:"OpenAI",type:"Full Time",experience:"Senior Level",location:"Hybrid",skills:["Python","Deep Learning","PyTorch","NLP"],job_link:"https://openai.com/careers/"},{postedOn:qe.now(),title:"Android Developer",company:"Unity",type:"Contract",experience:"Mid Level",location:"Hybrid",skills:["Unity","C#","Game Physics","3D Modeling"],job_link:"https://careers.unity.com/"},{postedOn:qe.now(),title:"iOS Developer",company:"Netflix",type:"Full Time",experience:"Entry Level",location:"In-Office",skills:["JavaScript","Node.js","React","GraphQL"],job_link:"https://jobs.netflix.com/"}];function p0(){const[i,e]=mr.useState([]),[n,s]=mr.useState(!1),[a,c]=mr.useState(!1),[f,m]=mr.useState(!1),[y,v]=mr.useState(""),w=async()=>{m(!0),v("");const W=l0(Vl),J=th(Vl,"jobs");d0.forEach($=>{const Se=BT(J);W.set(Se,$)});try{await W.commit(),v("All dummy data uploaded successfully"),localStorage.setItem("dummyDataUploaded","true")}catch($){v(`Error uploading dummy data: ${$.message}`)}finally{m(!1)}};mr.useEffect(()=>{localStorage.getItem("dummyDataUploaded")?v("Dummy data has already been uploaded."):w(),D()},[]);const D=async()=>{s(!1);const W=[],J=$r(th(Vl,"jobs")),$=$r(J,vm("postedOn","desc"));(await Tm($)).forEach(Ee=>{const _e=Ee.data(),Re=_e.postedOn instanceof qe?_e.postedOn.toDate():null;W.push({..._e,id:Ee.id,postedOn:Re})}),e(W)},O=async W=>{try{s(!0);const J=[];let $=$r(th(Vl,"jobs"));W.title&&($=$r($,Dl("title","==",W.title))),W.type&&($=$r($,Dl("type","==",W.type))),W.experience&&($=$r($,Dl("experience","==",W.experience))),W.location&&($=$r($,Dl("location","==",W.location))),$=$r($,vm("postedOn","desc")),(await Tm($)).forEach(Ee=>{const _e=Ee.data(),Re=_e.postedOn instanceof qe?_e.postedOn.toDate():null;J.push({..._e,id:Ee.id,postedOn:Re})}),e(J)}catch(J){console.log("Error fetching custom jobs:",J)}},b=()=>{D(),c(W=>!W)};return ye.jsx(ye.Fragment,{children:ye.jsxs("div",{children:[ye.jsx(m_,{}),ye.jsx(u_,{}),ye.jsx(g_,{fetchCustomJobs:O,resetSearchBar:a}),n&&ye.jsx("button",{onClick:b,className:"flex pl-[1250px] mb-2",children:ye.jsx("p",{className:"bg-blue-500 px-10 py-2 rounded-md text-white",children:"Clear Filters"})}),console.log(f?"uploading Dummy data....":y),i.map(W=>ye.jsx(p_,{...W},W.id))]})})}l_.createRoot(document.getElementById("root")).render(ye.jsx(mr.StrictMode,{children:ye.jsx(p0,{})}));
